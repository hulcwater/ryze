<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DREO AIÂÆ¢ÊúçÊºîÁ§∫</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            height: 200vh; /* Ê®°ÊãüÈïøÈ°µÈù¢Áî®‰∫éÊµãËØïÊªöÂä® */
        }

        /* Ê®°ÊãüDREO SupportÈ°µÈù¢Â§¥ÈÉ® */
        .header {
            background: #fff;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #0066cc;
        }

        .content {
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .demo-info {
            background: #fff;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* AIÂÆ¢ÊúçÊÇ¨ÊµÆÊåâÈíÆ */
        .ai-chat-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }

        .ai-chat-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(102, 126, 234, 0.5);
        }

        .ai-chat-button.active {
            background: #ff6b6b;
        }

        .ai-chat-button .icon {
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .ai-chat-button.active .icon::before {
            content: '‚úï';
            font-size: 24px;
        }

        .ai-chat-button:not(.active) .icon::before {
            content: 'üéß';
            font-size: 18px;
        }

        .ai-chat-button:not(.active) .icon::after {
            content: 'AI';
            font-size: 9px;
            margin-top: 1px;
            font-weight: bold;
            line-height: 1;
        }

        /* ÂØπËØùÊ°Ü */
        .chat-widget {
            position: fixed;
            bottom: 100px;
            right: 30px;
            width: 560px;
            height: 800px;
            background: #fff;
            border-radius: 15px;
            box-shadow: 0 10px 50px rgba(0,0,0,0.2);
            z-index: 999;
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: slideUp 0.3s ease;
        }

        .chat-widget.show {
            display: flex;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ÂØπËØùÊ°ÜÂ§¥ÈÉ® */
        .chat-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-title {
            font-size: 18px;
            font-weight: bold;
        }

        .more-menu {
            position: relative;
        }

        .more-button {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: background 0.3s ease;
        }

        .more-button:hover {
            background: rgba(255,255,255,0.1);
        }

        .more-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            min-width: 120px;
            display: none;
            z-index: 1001;
        }

        .more-dropdown.show {
            display: block;
        }

        .more-option {
            padding: 12px 16px;
            cursor: pointer;
            color: #333;
            font-size: 14px;
            transition: background 0.2s ease;
        }

        .more-option:hover {
            background: #f8f9fa;
        }

        /* ÂØπËØùÂå∫Âüü */
        .chat-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f8f9fa;
        }

        .welcome-message {
            background: white;
            padding: 16px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .ai-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-bottom: 12px;
        }

        .question-categories {
            margin-top: 20px;
        }

        .category-title {
            font-size: 16px;
            font-weight: bold;
            color: #333;
            margin-bottom: 12px;
        }

        .category-item {
            background: white;
            border: 1px solid #e0e6ed;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .category-item:hover {
            background: #f0f4ff;
            border-color: #667eea;
        }

        .category-arrow {
            transition: transform 0.2s ease;
            color: #999;
        }

        .category-item.expanded .category-arrow {
            transform: rotate(90deg);
        }

        .subcategories {
            margin-top: 8px;
            margin-left: 16px;
            display: none;
        }

        .subcategories.show {
            display: block;
        }

        .subcategory-item {
            background: #f8f9fa;
            border: none;
            padding: 10px 12px;
            margin-bottom: 4px;
            font-size: 14px;
            color: #666;
        }

        .subcategory-item:hover {
            background: #e9ecef;
            color: #333;
        }

        /* Ê∂àÊÅØÊ†∑Âºè */
        .message {
            margin-bottom: 16px;
            display: flex;
            align-items: flex-start;
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 12px;
            word-wrap: break-word;
        }

        .message.ai .message-content {
            background: white;
            border: 1px solid #e0e6ed;
            margin-left: 8px;
        }

        .message.user .message-content {
            background: #667eea;
            color: white;
            margin-right: 8px;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .message.user .message-avatar {
            background: #333;
            color: white;
        }

        /* ÂèØÁÇπÂáªÁöÑÁ§∫‰æãÈóÆÈ¢òÊ†∑Âºè */
        .example-question {
            color: #667eea;
            cursor: pointer;
            text-decoration: underline;
            transition: color 0.2s ease;
            display: inline-block;
            margin: 2px 0;
        }

        .example-question:hover {
            color: #5a6fd8;
            background: rgba(102, 126, 234, 0.1);
            padding: 2px 4px;
            border-radius: 4px;
        }

        /* ‰∫ßÂìÅÂØπÊØîË°®Ê†ºÊ†∑Âºè */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 8px;
            font-weight: bold;
            text-align: center;
            font-size: 13px;
        }

        .comparison-table td {
            padding: 10px 8px;
            border-bottom: 1px solid #e0e6ed;
            text-align: center;
            font-size: 12px;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .comparison-table tr:hover {
            background: #f0f4ff;
        }

        .comparison-table .feature-name {
            background: #f8f9fa !important;
            font-weight: bold;
            text-align: left;
            color: #333;
        }

        .pros-cons-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            margin: 12px 0;
        }

        .pros-cons-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .pros-item {
            color: #28a745;
            margin: 4px 0;
            font-size: 12px;
        }

        .cons-item {
            color: #dc3545;
            margin: 4px 0;
            font-size: 12px;
        }

        /* ‰∫ßÂìÅÊé®ËçêÂç°ÁâáÊ†∑Âºè */
        .product-card {
            background: white;
            border: 2px solid #e0e6ed;
            border-radius: 12px;
            padding: 16px;
            margin: 12px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            position: relative;
            overflow: hidden;
        }

        .product-card:hover {
            border-color: #667eea;
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }

        .product-card:hover .card-overlay {
            opacity: 1;
        }

        .card-overlay {
            position: absolute;
            top: 0;
            right: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 12px;
            border-radius: 0 12px 0 12px;
            font-size: 12px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .product-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            display: inline-block;
            margin: 4px 4px 0 0;
        }


        /* ËæìÂÖ•Âå∫Âüü */
        .chat-input {
            padding: 16px;
            border-top: 1px solid #e0e6ed;
            background: white;
        }

        .input-container {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            border-radius: 25px;
            padding: 8px 16px;
        }

        .input-field {
            flex: 1;
            border: none;
            background: none;
            outline: none;
            padding: 8px 0;
            font-size: 14px;
        }

        .send-button {
            background: #667eea;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .send-button:hover {
            background: #5a6fd8;
        }

        .send-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* ÁÇπËµû/Ë∏©ÊåâÈíÆÊ†∑Âºè */
        .feedback-buttons {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
            padding-top: 8px;
            border-top: 1px solid #f0f0f0;
            justify-content: flex-end;
        }

        .feedback-button {
            background: none;
            border: 1px solid #e0e6ed;
            border-radius: 6px;
            padding: 6px 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
            color: #666;
            min-width: 60px;
            justify-content: center;
        }

        .feedback-button:hover {
            background: #f8f9fa;
            border-color: #667eea;
            color: #667eea;
        }

        .feedback-button.liked {
            background: #e8f5e8;
            border-color: #28a745;
            color: #28a745;
        }

        .feedback-button.disliked {
            background: #ffe6e6;
            border-color: #dc3545;
            color: #dc3545;
        }

        .feedback-button.disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .feedback-button.disabled:hover {
            background: none;
            border-color: #e0e6ed;
            color: #666;
        }

        .feedback-text {
            font-size: 11px;
            color: #999;
            margin-right: 8px;
        }

        .feedback-success {
            background: #e8f5e8;
            color: #28a745;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            margin-left: 8px;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 480px) {
            .chat-widget {
                width: calc(100vw - 20px);
                right: 10px;
                bottom: 90px;
                height: calc(100vh - 120px);
            }
            
            .ai-chat-button {
                right: 20px;
                bottom: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Ê®°ÊãüDREO SupportÈ°µÈù¢ÂÜÖÂÆπ -->
    <div class="header">
        <div class="logo">DREO Support</div>
    </div>

    <div class="content">
        <div class="demo-info">
            <h1>AIÂÆ¢ÊúçÊºîÁ§∫È°µÈù¢</h1>
            <p>ËøôÊòØ‰∏Ä‰∏™Ê®°ÊãüÁöÑDREO SupportÈ°µÈù¢ÔºåÂè≥‰∏ãËßíÊúâAIÂÆ¢ÊúçÂäüËÉΩ„ÄÇÊÇ®ÂèØ‰ª•Ôºö</p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li>ÁÇπÂáªÂè≥‰∏ãËßíÁöÑAIÂÆ¢ÊúçÊåâÈíÆÂºÄÂßãÂØπËØù</li>
                <li>ÈÄâÊã©È¢ÑËÆæÁöÑÈóÆÈ¢òÁ±ªÂûãÊàñÁõ¥Êé•ËæìÂÖ•ÈóÆÈ¢ò</li>
                <li>‰ΩøÁî®Âè≥‰∏äËßíÁöÑ"Êõ¥Â§ö"ËèúÂçïÈáçÊñ∞ÂºÄÂßãÂØπËØù</li>
                <li>ÊªöÂä®È°µÈù¢ÊµãËØïÊåâÈíÆÁöÑÂõ∫ÂÆö‰ΩçÁΩÆÊïàÊûú</li>
            </ul>
        </div>

        <div style="height: 1000px; background: linear-gradient(45deg, #f0f2f5, #ffffff); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: #999;">
            <h2>ÊªöÂä®È°µÈù¢ÊµãËØïAIÂÆ¢ÊúçÊåâÈíÆÂõ∫ÂÆö‰ΩçÁΩÆÊïàÊûú</h2>
        </div>
    </div>

    <!-- AIÂÆ¢ÊúçÊÇ¨ÊµÆÊåâÈíÆ -->
    <button class="ai-chat-button" id="chatButton">
        <span class="icon"></span>
    </button>

    <!-- AIÂÆ¢ÊúçÂØπËØùÊ°Ü -->
    <div class="chat-widget" id="chatWidget">
        <div class="chat-header">
            <div class="chat-title">DREO Customer Service</div>
            <div class="more-menu">
                <button class="more-button" id="moreButton">‚ãØ</button>
                <div class="more-dropdown" id="moreDropdown">
                    <div class="more-option" id="resetChat">ÈáçÊñ∞ÂØπËØù</div>
                </div>
            </div>
        </div>

        <div class="chat-body" id="chatBody">
            <div class="welcome-message">
                <div class="ai-avatar">AI</div>
                <div>
                    <strong>ÊÇ®Â•ΩÔºÅÊ¨¢Ëøé‰ΩøÁî®DREOÊô∫ËÉΩÂÆ¢ÊúçÂä©ÊâãÔºÅ</strong><br>
                    ÊàëÂèØ‰ª•Â∏ÆÂä©ÊÇ®Ëß£ÂÜ≥‰∫ßÂìÅÂí®ËØ¢ÂíåÂîÆÂêéÊîØÊåÅÈóÆÈ¢ò„ÄÇÊÇ®ÂèØ‰ª•Ôºö
                    <ul style="margin: 8px 0 0 16px;">
                        <li>ÈÄâÊã©‰∏ãÊñπÁöÑÂ∏∏ËßÅÈóÆÈ¢òÁ±ªÂûã</li>
                        <li>Áõ¥Êé•Âú®ËæìÂÖ•Ê°Ü‰∏≠ÊèèËø∞ÊÇ®ÁöÑÈóÆÈ¢ò</li>
                    </ul>
                </div>
            </div>

            <div class="question-categories">
                <div class="category-title">Â∏∏ËßÅÈóÆÈ¢òÂàÜÁ±ª</div>
                
                <div class="category-item" data-category="‰∫ßÂìÅÂí®ËØ¢">
                    <span>üõçÔ∏è ‰∫ßÂìÅÂí®ËØ¢</span>
                    <span class="category-arrow">‚ñ∂</span>
                </div>
                <div class="subcategories">
                    <div class="subcategory-item" data-question="‰∫ßÂìÅ‰ø°ÊÅØ‰∏éÂäüËÉΩÂí®ËØ¢">
                        üìã ‰∫ßÂìÅ‰ø°ÊÅØ‰∏éÂäüËÉΩÂí®ËØ¢
                    </div>
                    <div class="subcategory-item" data-question="Ë¥≠‰π∞ÂÜ≥Á≠ñ">
                        ü§î Ë¥≠‰π∞ÂÜ≥Á≠ñ
                    </div>
                </div>

                <div class="category-item" data-category="ÂîÆÂêéÊîØÊåÅ">
                    <span>üîß ÂîÆÂêéÊîØÊåÅ</span>
                    <span class="category-arrow">‚ñ∂</span>
                </div>
                <div class="subcategories">
                    <div class="subcategory-item" data-question="‰∫ßÂìÅÊïÖÈöúËØäÊñ≠">
                        üîç ‰∫ßÂìÅÊïÖÈöúËØäÊñ≠
                    </div>
                    <div class="subcategory-item" data-question="ËΩØ‰ª∂ÈóÆÈ¢ò">
                        üíª ËΩØ‰ª∂ÈóÆÈ¢ò
                    </div>
                    <div class="subcategory-item" data-question="‰∫ßÂìÅÁª¥Êä§">
                        üßΩ ‰∫ßÂìÅÁª¥Êä§
                    </div>
                </div>
            </div>
        </div>

        <div class="chat-input">
            <div class="input-container">
                <input type="text" class="input-field" id="messageInput" placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÁöÑÈóÆÈ¢ò...">
                <button class="send-button" id="sendButton">
                    <span>‚û§</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // ÈóÆÈ¢òÁ±ªÂûãÊï∞ÊçÆ
        const questionData = {
            "‰∫ßÂìÅ‰ø°ÊÅØ‰∏éÂäüËÉΩÂí®ËØ¢": {
                description: "Êü•ËØ¢‰∫ßÂìÅÂèÇÊï∞„ÄÅÊ†∏ÂøÉÂäüËÉΩ„ÄÅÊô∫ËÉΩÁâπÊÄßÂíåÂÖºÂÆπÊÄß‰ø°ÊÅØÁ≠â",
                examples: [
                    "Nomad OneÂ°îÊâáÂ∞∫ÂØ∏/ÈáçÈáè/ËÄóÁîµÈáèÊòØÂ§öÂ∞ë?",
                    "DR-HHM003SÂä†ÊπøÂô®Âä†ÊπøÊïàÊûúÂ¶Ç‰ΩïÔºü",
                    "DREOÁöÑÊô∫ËÉΩ‰∫ßÂìÅÊîØÊåÅÂì™‰∫õËØ≠Èü≥Âä©Êâã?",
                    "Nomad OneÂ°îÊâá‰∫ßÂìÅÁöÑÂô™Èü≥Ê∞¥Âπ≥Â¶Ç‰Ωï?"
                ]
            },
            "Ë¥≠‰π∞ÂÜ≥Á≠ñ": {
                description: "‰∫ßÂìÅÊé®Ëçê„ÄÅÂûãÂè∑ÂØπÊØî„ÄÅÂÆâË£ÖË¶ÅÊ±ÇÂí®ËØ¢Á≠â",
                examples: [
                    "DR-HHM002SÂíåDR-HHM003SÂä†ÊπøÂô®ÁöÑ‰∏ªË¶ÅÂå∫Âà´?",
                    "DR-HHM002SÂíåDR-HHM003SÂì™Ê¨æÂä†ÊπøÂô®ÈÄÇÂêàÂ©¥ÂÑøÊàøÈó¥?"
                ]
            },
            "‰∫ßÂìÅÊïÖÈöúËØäÊñ≠": {
                description: "Ëß£ÂÜ≥ÂºÄÊú∫„ÄÅÁΩëÁªúËøûÊé•„ÄÅÁâ©ÁêÜÊïÖÈöúÂíå‰º†ÊÑüÂô®ÂºÇÂ∏∏Á≠âÈóÆÈ¢ò",
                examples: [
                    "ÊöñÈ£éÊú∫ÊèíÁîµÊó†ÂèçÂ∫îÊÄé‰πàÂäû?",
                    "‰∫ßÂìÅÈÖçÁΩëÂ§±Ë¥•Â¶Ç‰ΩïËß£ÂÜ≥?",
                    "Â°îÊâáÊúâÂºÇÂìçÊòØ‰ªÄ‰πàÂéüÂõ†?",
                    "Wi-FiÈ¢ëÁπÅÊéâÁ∫øÊÄé‰πàÂ§ÑÁêÜ?"
                ]
            },
            "ËΩØ‰ª∂ÈóÆÈ¢ò": {
                description: "Ëß£ÂÜ≥AppÈóÆÈ¢ò„ÄÅËÆæÂ§áËøûÊé•ÂíåÂäüËÉΩÂºÇÂ∏∏Á≠â",
                examples: [
                    "ËÆæÂ§áÊòæÁ§∫Á¶ªÁ∫øÂ¶Ç‰ΩïÂ§ÑÁêÜ?",
                    "ËØ≠Èü≥ÊéßÂà∂Êó†ÂìçÂ∫îÔºü",
                    "Áä∂ÊÄÅ‰∏çÂêåÊ≠•ÈóÆÈ¢òÔºü"
                ]
            },
            "‰∫ßÂìÅÁª¥Êä§": {
                description: "‰∫ßÂìÅÊ∏ÖÊ¥Å‰øùÂÖª„ÄÅÈÖç‰ª∂Êõ¥Êç¢„ÄÅÂÆöÊúüÁª¥Êä§Âíå‰ΩøÁî®ÂØøÂëΩ‰ºòÂåñÁ≠â",
                examples: [
                    "Âä†ÊπøÂô®Â§ö‰πÖÈúÄË¶ÅÊ∏ÖÊ¥Å‰∏ÄÊ¨°?",
                    "Â¶Ç‰ΩïÊ∏ÖÊ¥ÅÈ£éÊâáÂè∂ÁâáÂíåËøáÊª§ÁΩë?",
                    "‰ªÄ‰πàÊó∂ÂÄôÈúÄË¶ÅÊõ¥Êç¢ÈÖç‰ª∂?",
                    "Â¶Ç‰ΩïÂª∂Èïø‰∫ßÂìÅ‰ΩøÁî®ÂØøÂëΩ?"
                ]
            }
        };

        // DOMÂÖÉÁ¥†
        const chatButton = document.getElementById('chatButton');
        const chatWidget = document.getElementById('chatWidget');
        const chatBody = document.getElementById('chatBody');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const moreButton = document.getElementById('moreButton');
        const moreDropdown = document.getElementById('moreDropdown');
        const resetChat = document.getElementById('resetChat');


        // ÂàáÊç¢ÂØπËØùÊ°ÜÊòæÁ§∫/ÈöêËóè
        chatButton.addEventListener('click', () => {
            const isActive = chatButton.classList.contains('active');
            if (isActive) {
                chatWidget.classList.remove('show');
                chatButton.classList.remove('active');
                moreDropdown.classList.remove('show');
            } else {
                chatWidget.classList.add('show');
                chatButton.classList.add('active');
            }
        });

        // Êõ¥Â§öËèúÂçïÂàáÊç¢
        moreButton.addEventListener('click', (e) => {
            e.stopPropagation();
            moreDropdown.classList.toggle('show');
        });

        // ÁÇπÂáªÂÖ∂‰ªñÂú∞ÊñπÂÖ≥Èó≠Êõ¥Â§öËèúÂçï
        document.addEventListener('click', () => {
            moreDropdown.classList.remove('show');
        });

        // ÈáçÊñ∞ÂØπËØù
        resetChat.addEventListener('click', () => {
            resetChatContent();
            moreDropdown.classList.remove('show');
        });

        // ÈáçÁΩÆËÅäÂ§©ÂÜÖÂÆπ
        function resetChatContent() {
            // ÈáçÊñ∞ÁîüÊàêÂàùÂßãÁöÑËÅäÂ§©ÂÜÖÂÆπ
            chatBody.innerHTML = `
                <div class="welcome-message">
                    <div class="ai-avatar">AI</div>
                    <div>
                        <strong>ÊÇ®Â•ΩÔºÅÊ¨¢Ëøé‰ΩøÁî®DREOÊô∫ËÉΩÂÆ¢ÊúçÂä©ÊâãÔºÅ</strong><br>
                        ÊàëÂèØ‰ª•Â∏ÆÂä©ÊÇ®Ëß£ÂÜ≥‰∫ßÂìÅÂí®ËØ¢ÂíåÂîÆÂêéÊîØÊåÅÈóÆÈ¢ò„ÄÇÊÇ®ÂèØ‰ª•Ôºö
                        <ul style="margin: 8px 0 0 16px;">
                            <li>ÈÄâÊã©‰∏ãÊñπÁöÑÂ∏∏ËßÅÈóÆÈ¢òÁ±ªÂûã</li>
                            <li>Áõ¥Êé•Âú®ËæìÂÖ•Ê°Ü‰∏≠ÊèèËø∞ÊÇ®ÁöÑÈóÆÈ¢ò</li>
                        </ul>
                    </div>
                </div>

                <div class="question-categories">
                    <div class="category-title">Â∏∏ËßÅÈóÆÈ¢òÂàÜÁ±ª</div>
                    
                    <div class="category-item" data-category="‰∫ßÂìÅÂí®ËØ¢">
                        <span>üõçÔ∏è ‰∫ßÂìÅÂí®ËØ¢</span>
                        <span class="category-arrow">‚ñ∂</span>
                    </div>
                    <div class="subcategories">
                        <div class="subcategory-item" data-question="‰∫ßÂìÅ‰ø°ÊÅØ‰∏éÂäüËÉΩÂí®ËØ¢">
                            üìã ‰∫ßÂìÅ‰ø°ÊÅØ‰∏éÂäüËÉΩÂí®ËØ¢
                        </div>
                        <div class="subcategory-item" data-question="Ë¥≠‰π∞ÂÜ≥Á≠ñ">
                            ü§î Ë¥≠‰π∞ÂÜ≥Á≠ñ
                        </div>
                    </div>

                    <div class="category-item" data-category="ÂîÆÂêéÊîØÊåÅ">
                        <span>üîß ÂîÆÂêéÊîØÊåÅ</span>
                        <span class="category-arrow">‚ñ∂</span>
                    </div>
                    <div class="subcategories">
                        <div class="subcategory-item" data-question="‰∫ßÂìÅÊïÖÈöúËØäÊñ≠">
                            üîç ‰∫ßÂìÅÊïÖÈöúËØäÊñ≠
                        </div>
                        <div class="subcategory-item" data-question="ËΩØ‰ª∂ÈóÆÈ¢ò">
                            üíª ËΩØ‰ª∂ÈóÆÈ¢ò
                        </div>
                        <div class="subcategory-item" data-question="‰∫ßÂìÅÁª¥Êä§">
                            üßΩ ‰∫ßÂìÅÁª¥Êä§
                        </div>
                    </div>
                </div>
            `;

            // ÈáçÊñ∞ÁªëÂÆö‰∫ã‰ª∂ÁõëÂê¨Âô®
            bindCategoryEvents();

            // Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü
            messageInput.value = '';
            
            // ÈáçÁΩÆÂèëÈÄÅÊåâÈíÆÁä∂ÊÄÅ
            sendButton.disabled = true;

            // ÊªöÂä®Âà∞È°∂ÈÉ®
            chatBody.scrollTop = 0;
        }

        // ÁªëÂÆöÂàÜÁ±ª‰∫ã‰ª∂
        function bindCategoryEvents() {
            // ÈáçÊñ∞ÁªëÂÆöÂàÜÁ±ªÂ±ïÂºÄ/Êî∂Ëµ∑‰∫ã‰ª∂
            chatBody.querySelectorAll('.category-item').forEach(item => {
                item.addEventListener('click', () => {
                    const subcategories = item.nextElementSibling;
                    const isExpanded = item.classList.contains('expanded');
                    
                    // Êî∂Ëµ∑ÊâÄÊúâÂÖ∂‰ªñÂàÜÁ±ª
                    chatBody.querySelectorAll('.category-item').forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('expanded');
                            otherItem.nextElementSibling.classList.remove('show');
                        }
                    });
                    
                    // ÂàáÊç¢ÂΩìÂâçÂàÜÁ±ª
                    if (isExpanded) {
                        item.classList.remove('expanded');
                        subcategories.classList.remove('show');
                    } else {
                        item.classList.add('expanded');
                        subcategories.classList.add('show');
                    }
                });
            });

            // ÈáçÊñ∞ÁªëÂÆöÂ≠êÂàÜÁ±ªÁÇπÂáª‰∫ã‰ª∂
            chatBody.querySelectorAll('.subcategory-item').forEach(item => {
                item.addEventListener('click', () => {
                    const questionType = item.dataset.question;
                    handleQuestionSelection(questionType);
                });
            });
        }

        // ÂàùÂßãÂåñÊó∂ÁªëÂÆöÂàÜÁ±ª‰∫ã‰ª∂
        bindCategoryEvents();

        // Â§ÑÁêÜÈóÆÈ¢òÁ±ªÂûãÈÄâÊã©
        function handleQuestionSelection(questionType) {
            const data = questionData[questionType];
            if (data) {
                addMessage('user', `ÊàëÊÉ≥‰∫ÜËß£Ôºö${questionType}`);
                
                setTimeout(() => {
                    // ÂàõÂª∫Â∏¶ÊúâÂèØÁÇπÂáªÁ§∫‰æãÈóÆÈ¢òÁöÑÊ∂àÊÅØ
                    addMessageWithClickableExamples(questionType, data);
                }, 1000);
            }
        }

        // Ê∑ªÂä†Â∏¶ÊúâÂèØÁÇπÂáªÁ§∫‰æãÈóÆÈ¢òÁöÑÊ∂àÊÅØ
        function addMessageWithClickableExamples(questionType, data) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            
            // ÂàõÂª∫ÊñáÊú¨ÂÜÖÂÆπ
            const textPart = document.createElement('div');
            textPart.style.whiteSpace = 'pre-line';
            textPart.textContent = `ÂÖ≥‰∫é${questionType}ÔºåÊàëÂèØ‰ª•‰∏∫ÊÇ®Êèê‰æõ‰ª•‰∏ãÂ∏ÆÂä©Ôºö\n\n${data.description}\n\nÂ∏∏ËßÅÈóÆÈ¢òÔºö`;
            messageContent.appendChild(textPart);
            
            // ÂàõÂª∫ÂèØÁÇπÂáªÁöÑÁ§∫‰æãÈóÆÈ¢òÂàóË°®
            data.examples.forEach((example, index) => {
                const exampleDiv = document.createElement('div');
                exampleDiv.style.margin = '8px 0';
                
                const numberSpan = document.createElement('span');
                numberSpan.textContent = `${index + 1}. `;
                
                const questionSpan = document.createElement('span');
                questionSpan.className = 'example-question';
                questionSpan.textContent = example;
                questionSpan.onclick = () => {
                    addMessage('user', example);
                    setTimeout(() => {
                        addDetailedResponseWithResources(example);
                    }, 1000);
                };
                
                exampleDiv.appendChild(numberSpan);
                exampleDiv.appendChild(questionSpan);
                messageContent.appendChild(exampleDiv);
            });
            
            // Ê∑ªÂä†ÁªìÂ∞æÊñáÊú¨
            const endText = document.createElement('div');
            endText.style.whiteSpace = 'pre-line';
            endText.style.marginTop = '12px';
            endText.textContent = 'ËØ∑ÂëäËØâÊàëÊÇ®ÁöÑÂÖ∑‰ΩìÈóÆÈ¢òÔºåÊàë‰ºö‰∏∫ÊÇ®ËØ¶ÁªÜËß£Á≠îÔºÅ';
            messageContent.appendChild(endText);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // ÂèëÈÄÅÊ∂àÊÅØ
        function sendMessage() {
            const message = messageInput.value.trim();
            if (message) {
                addMessage('user', message);
                messageInput.value = '';
                
                // Ê£ÄÊµãÊòØÂê¶ÈúÄË¶ÅËΩ¨‰∫∫Â∑•
                if (isRequestForHumanAgent(message)) {
                    setTimeout(() => {
                        addHumanAgentResponse();
                    }, 1000);
                } else if (isDissatisfiedWithService(message)) {
                    // Áî®Êà∑ÂØπAIÊúçÂä°Ë°®Á§∫‰∏çÊª°
                    setTimeout(() => {
                        addDissatisfiedResponse(message);
                    }, 1000);
                } else if (isOrderRelatedInquiry(message)) {
                    // ËÆ¢ÂçïÁõ∏ÂÖ≥ÈóÆÈ¢òÔºàÈÄÄ/Êç¢Ë¥ß„ÄÅÁî≥ËØ∑‰ºòÊÉ†Ôºâ
                    setTimeout(() => {
                        addOrderInquiryResponse(message);
                    }, 1000);
                } else if (isProductComparison(message)) {
                    // ‰∫ßÂìÅÂØπÊØîÂõûÂ§ç
                    setTimeout(() => {
                        addProductComparisonResponse(message);
                    }, 1000);
                } else if (isGreeting(message)) {
                    // Á§ºË≤åÊÄßÈóÆÂ•Ω
                    setTimeout(() => {
                        addGreetingResponse();
                    }, 1000);
                } else if (isOtherBrandQuestion(message)) {
                    // ÂÖ∂‰ªñÂìÅÁâåÈóÆÈ¢ò
                    setTimeout(() => {
                        addOtherBrandResponse(message);
                    }, 1000);
                } else if (isProductRecommendationRequest(message)) {
                    // ‰∫ßÂìÅÊé®ËçêËØ∑Ê±Ç
                    setTimeout(() => {
                        addProductRecommendationResponse(message);
                    }, 1000);
                } else if (isImprovementSuggestion(message)) {
                    // Áî®Êà∑ÊîπËøõÂª∫ËÆÆ
                    setTimeout(() => {
                        addImprovementSuggestionResponse(message);
                    }, 1000);
                } else if (isThankfulForSolution(message)) {
                    // Áî®Êà∑Ë°®ËææÊÑüË∞¢ÔºàÈóÆÈ¢òÂ∑≤Ëß£ÂÜ≥Ôºâ
                    setTimeout(() => {
                        addThankfulResponse(message);
                    }, 1000);
                } else if (!isDreoRelatedQuestion(message)) {
                    // ÈùûDREOÁõ∏ÂÖ≥ÈóÆÈ¢ò
                    setTimeout(() => {
                        addNonDreoResponse(message);
                    }, 1000);
                } else {
                    // Ê£ÄÊü•ÊòØÂê¶‰∏∫Â§çÊùÇÊäÄÊúØÈóÆÈ¢òÊàñÁü•ËØÜÂ∫ìÂ§ñÈóÆÈ¢ò
                    if (isComplexOrUnknownQuestion(message)) {
                        // Êú™ÊâæÂà∞ÂØπÂ∫îËß£ÂÜ≥ÊñπÊ°à
                        setTimeout(() => {
                            addNoSolutionFoundResponse(message);
                        }, 1000);
                    } else {
                        // Ê®°ÊãüAIÂõûÂ§ç
                        setTimeout(() => {
                            const responses = [
                                "ÊÑüË∞¢ÊÇ®ÁöÑÈóÆÈ¢òÔºÅÊàëÊ≠£Âú®‰∏∫ÊÇ®Êü•ÊâæÁõ∏ÂÖ≥‰ø°ÊÅØ...",
                                "Ê†πÊçÆÊÇ®ÁöÑÊèèËø∞ÔºåÊàëÂª∫ËÆÆÊÇ®ÂèØ‰ª•Â∞ùËØï‰ª•‰∏ãËß£ÂÜ≥ÊñπÊ°à...",
                                "ËøôÊòØ‰∏Ä‰∏™ÂæàÂ•ΩÁöÑÈóÆÈ¢òÔºÅËÆ©Êàë‰∏∫ÊÇ®ËØ¶ÁªÜËß£Á≠î...",
                                "ÊàëÁêÜËß£ÊÇ®ÁöÑÂõ∞Êâ∞ÔºåËøôÈáåÊúâ‰∏Ä‰∫õÂèØËÉΩÁöÑËß£ÂÜ≥ÊñπÊ≥ï..."
                            ];
                            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                            addMessage('ai', randomResponse);
                        }, 1500);
                    }
                }
            }
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫ËÆ¢ÂçïÁõ∏ÂÖ≥ÈóÆÈ¢òÔºàÈÄÄ/Êç¢Ë¥ß„ÄÅÁî≥ËØ∑‰ºòÊÉ†Ôºâ
        function isOrderRelatedInquiry(message) {
            const orderKeywords = [
                // ÈÄÄË¥ßÁõ∏ÂÖ≥
                'ÈÄÄË¥ß', 'ÈÄÄÊ¨æ', 'ÈÄÄÂõû', 'ÈÄÄÊéâ', '‰∏çË¶Å‰∫Ü', 'ÊÉ≥ÈÄÄ',
                'Áî≥ËØ∑ÈÄÄË¥ß', 'Â¶Ç‰ΩïÈÄÄË¥ß', 'ÈÄÄË¥ßÊµÅÁ®ã', 'ÈÄÄË¥ßÊîøÁ≠ñ',
                'ÈÄÄË¥ßÊù°‰ª∂', 'ÈÄÄË¥ßÊó∂Èó¥', 'ÈÄÄË¥ßÊúüÈôê', 
                
                // Êç¢Ë¥ßÁõ∏ÂÖ≥
                'Êç¢Ë¥ß', 'Êõ¥Êç¢', 'Ë∞ÉÊç¢', 'Êç¢‰∏Ä‰∏™', 'ÈáçÊñ∞Âèë',
                'Áî≥ËØ∑Êç¢Ë¥ß', 'Â¶Ç‰ΩïÊç¢Ë¥ß', 'Êç¢Ë¥ßÊµÅÁ®ã', 'Êç¢Ë¥ßÊîøÁ≠ñ',
                'Êç¢Ë¥ßÊù°‰ª∂', 'Êç¢Êñ∞ÁöÑ', 'Êç¢Âà´ÁöÑ',
                
                // ‰ºòÊÉ†Áõ∏ÂÖ≥
                '‰ºòÊÉ†', 'ÊâìÊäò', 'ÊäòÊâ£', 'Èôç‰ª∑', '‰æøÂÆú', 'Âáè‰ª∑',
                '‰ºòÊÉ†Âà∏', 'ÊäòÊâ£Á†Å', '‰ºòÊÉ†Á†Å', '‰øÉÈîÄÁ†Å', '‰ª£ÈáëÂà∏',
                'Áî≥ËØ∑‰ºòÊÉ†', 'Áî≥ËØ∑ÊäòÊâ£', 'Êúâ‰ºòÊÉ†Âêó', 'ÊúâÊäòÊâ£Âêó',
                '‰ºòÊÉ†Ê¥ªÂä®', '‰øÉÈîÄÊ¥ªÂä®', 'Áâπ‰ª∑', 'Ê¥ªÂä®‰ª∑',
                '‰ºöÂëò‰ºòÊÉ†', 'Êñ∞Áî®Êà∑‰ºòÊÉ†', 'È¶ñË¥≠‰ºòÊÉ†', 
                
                // ËÆ¢ÂçïÁä∂ÊÄÅÁõ∏ÂÖ≥
                'ËÆ¢ÂçïÁä∂ÊÄÅ', 'ËÆ¢ÂçïÊü•ËØ¢', 'Áâ©ÊµÅÊü•ËØ¢', 'ÂèëË¥ß‰∫ÜÂêó',
                '‰ªÄ‰πàÊó∂ÂÄôÂèëË¥ß', 'Âø´ÈÄí‰ø°ÊÅØ', 'ÈÖçÈÄÅÊó∂Èó¥',
                'ËÆ¢ÂçïÂè∑', 'ËøΩË∏™ËÆ¢Âçï', 'Êü•ÁúãËÆ¢Âçï'
            ];

            const orderPatterns = [
                '‰∏çÊÉ≥Ë¶Å‰∫Ü', '‰π∞Èîô‰∫Ü', '‰∏çÂêàÈÄÇ', '‰∏çÊª°ÊÑè',
                'Ë¥®ÈáèÊúâÈóÆÈ¢ò', 'ÊúâÁëïÁñµ', 'ÊúâÈóÆÈ¢ò', 'Âùè‰∫Ü',
                'Áî®‰∏ç‰∫Ü', '‰∏çÂ•ΩÁî®', 'ÊïàÊûú‰∏çÂ•Ω', '‰∏çÁ¨¶ÂêàÈ¢ÑÊúü',
                'Â∞∫ÂØ∏‰∏çÂØπ', 'È¢úËâ≤‰∏çÂØπ', 'ÂûãÂè∑‰∏çÂØπ', 'Ê¨æÂºè‰∏çÂØπ',
                'ËÉΩ‰æøÂÆúÁÇπÂêó', 'ÊúâÊ≤°Êúâ‰ºòÊÉ†', '‰ª∑Ê†ºËÉΩÈôçÂêó', 'ËÉΩÊâìÊäòÂêó',
                '‰ªÄ‰πàÊó∂ÂÄôÊúâÊ¥ªÂä®', 'Êúâ‰øÉÈîÄÂêó', '‰ºöÈôç‰ª∑Âêó'
            ];

            const lowerMessage = message.toLowerCase();
            
            // Ê£ÄÊü•ËÆ¢ÂçïÂÖ≥ÈîÆËØç
            const hasOrderKeywords = orderKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            // Ê£ÄÊü•ËÆ¢ÂçïÊ®°Âºè
            const hasOrderPatterns = orderPatterns.some(pattern => 
                lowerMessage.includes(pattern.toLowerCase())
            );

            return hasOrderKeywords || hasOrderPatterns;
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫Â§çÊùÇÊàñÁü•ËØÜÂ∫ìÂ§ñÈóÆÈ¢ò
        function isComplexOrUnknownQuestion(message) {
            const complexKeywords = [
                // Â§çÊùÇÊäÄÊúØÈóÆÈ¢ò
                'ÈõÜÊàê', 'ÂÖºÂÆπ', 'ÂçèËÆÆ', 'Êé•Âè£', 'ÁÆóÊ≥ï', 'Êû∂ÊûÑ', 'È©±Âä®', 'Âõ∫‰ª∂',
                'ËÆ§ËØÅ', 'Ê†áÂáÜ', 'ËßÑËåÉ', 'ÊµãËØï', 'Ê†°ÂáÜ', 'Ë∞ÉËØï', 'ÂºÄÂèë',
                '‰∫åÊ¨°ÂºÄÂèë', 'ÂÆöÂà∂', 'SDK', 'API', 'ÂºÄÊ∫ê', 'Ê∫êÁ†Å',
                
                // Ê∑±Â∫¶ÊäÄÊúØÂèÇÊï∞
                'ÂäüÁéáÂõ†Êï∞', 'Ë∞êÊ≥¢', 'ÁîµÁ£ÅÂÖºÂÆπ', 'ËæêÂ∞Ñ', '‰º†ÂØº', 'ÈùôÁîµ',
                'EMC', 'EMI', 'CE', 'FCC', 'UL', 'CCC', 'RoHS',
                'ÂàÜË¥ùÂÄº', 'dB', 'È¢ëË∞±', 'Êª§Ê≥¢', '‰ø°Âô™ÊØî', 'SNR',
                
                // ‰∏ì‰∏öÁª¥‰øÆÈóÆÈ¢ò
                'ÁîµË∑ØÊùø', '‰∏ªÊùø', 'ËäØÁâá', '‰º†ÊÑüÂô®', 'ÁîµÊú∫', 'ÂèòÈ¢ë',
                'ÁîµÂÆπ', 'ÁîµÈòª', 'Êô∂‰ΩìÁÆ°', 'ÈõÜÊàêÁîµË∑Ø', 'PCB', 'IC',
                'ÁÑäÊé•', 'Êõ¥Êç¢', 'ÊãÜËß£', 'ÁªÑË£Ö', 'Áª¥‰øÆÊâãÂÜå',
                
                // È´òÁ∫ßÂäüËÉΩÈúÄÊ±Ç
                'Ëá™Âä®Âåñ', 'Êô∫ËÉΩÂ≠¶‰π†', 'Êú∫Âô®Â≠¶‰π†', 'AIËÆ≠ÁªÉ', 'ËØ≠Èü≥ËØÜÂà´',
                'ÂõæÂÉèËØÜÂà´', 'ÁéØÂ¢ÉÂ≠¶‰π†', 'Ê®°ÂºèËØÜÂà´', 'È¢ÑÊµãÂàÜÊûê',
                'Êï∞ÊçÆÊåñÊéò', '‰∫ëËÆ°ÁÆó', 'ËæπÁºòËÆ°ÁÆó', 'IoTÂπ≥Âè∞',
                
                // ÊâπÈáèÊàñÂïÜÁî®ÈúÄÊ±Ç
                'ÊâπÈáè', 'ÈááË¥≠', 'ÊãõÊ†á', '‰ª£ÁêÜ', 'ÁªèÈîÄ', 'ÂàÜÈîÄ',
                'È°πÁõÆ', 'Â∑•Á®ã', 'ÈõÜÊàêÂïÜ', 'Á≥ªÁªüÈõÜÊàê', 'B2B',
                'ÂïÜÁî®', 'Â∑•‰∏öÁ∫ß', 'ÂÆöÂà∂Âåñ', '‰∏™ÊÄßÂåñ',
                
                // Á¨¨‰∏âÊñπÈõÜÊàê
                'HomeKit', 'Google Assistant', 'Amazon Alexa',
                'SmartThings', 'Zigbee', 'Z-Wave', 'Thread',
                'Matter', 'Home Assistant', 'Â∞èÁ±≥', 'Âçé‰∏∫'
            ];

            const specificTechnicalQuestions = [
                // ÂÖ∑‰ΩìÂûãÂè∑ÁöÑÊ∑±Â∫¶ÊäÄÊúØÈóÆÈ¢ò
                'ÂÜÖÈÉ®ÁªìÊûÑ', 'Â∑•‰ΩúÂéüÁêÜ', 'ÊéßÂà∂ÈÄªËæë', '‰º†ÊÑüÂéüÁêÜ',
                'Âä†ÁÉ≠ÂéüÁêÜ', 'Âà∂ÂÜ∑ÂéüÁêÜ', 'ÂáÄÂåñÂéüÁêÜ', 'ÁîµÊú∫Á±ªÂûã',
                'È£éÈÅìËÆæËÆ°', 'Ê∞îÊµÅÁªÑÁªá', 'ÁÉ≠‰∫§Êç¢', 'Èô§ÊπøÂéüÁêÜ',
                
                // ËØ¶ÁªÜËßÑÊ†ºÂèÇÊï∞
                'ËæìÂÖ•ÁîµÂéãËåÉÂõ¥', 'ÂêØÂä®ÁîµÊµÅ', 'ÂæÖÊú∫ÂäüËÄó', 'ÊúÄÂ§ßÂäüËÄó',
                'Â∑•‰ΩúÊ∏©Â∫¶ËåÉÂõ¥', 'Â≠òÂÇ®Ê∏©Â∫¶', 'ÊπøÂ∫¶ËåÉÂõ¥', 'Êµ∑ÊãîÈ´òÂ∫¶',
                'ÁªùÁºòÁ≠âÁ∫ß', 'Èò≤Êä§Á≠âÁ∫ß', 'IPÁ≠âÁ∫ß', 'ÊäóÈúáÁ≠âÁ∫ß',
                
                // ÁéØÂ¢ÉÈÄÇÂ∫îÊÄß
                'È´òÂéü‰ΩøÁî®', 'ÊûÅÂú∞‰ΩøÁî®', 'ÁÉ≠Â∏¶‰ΩøÁî®', 'Ê≤ôÊº†‰ΩøÁî®',
                'Êµ∑Ëæπ‰ΩøÁî®', 'Â∑•ÂéÇÁéØÂ¢É', 'ÂåªÈô¢‰ΩøÁî®', 'ÂÆûÈ™åÂÆ§',
                
                // ÁâπÊÆäÂ∫îÁî®Âú∫ÊôØ
                'ËΩ¶ËΩΩ‰ΩøÁî®', 'ËàπËà∂‰ΩøÁî®', 'È£ûÊú∫‰ΩøÁî®', 'Êà∑Â§ñ‰ΩøÁî®',
                'Èò≤ÁàÜÁéØÂ¢É', 'Ê¥ÅÂáÄÂÆ§', 'Êó†Â∞òÂÆ§', 'ÊÅíÊ∏©ÊÅíÊπø'
            ];

            const lowerMessage = message.toLowerCase();
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´Â§çÊùÇÂÖ≥ÈîÆËØç
            const hasComplexKeywords = complexKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´‰∏ì‰∏öÊäÄÊúØÈóÆÈ¢ò
            const hasSpecificTechnical = specificTechnicalQuestions.some(question => 
                lowerMessage.includes(question.toLowerCase())
            );
            
            // Ê£ÄÊü•ÊòØÂê¶‰∏∫ÈùûÂ∏∏ÂÖ∑‰ΩìÁöÑÂûãÂè∑ÊäÄÊúØÈóÆÈ¢ò
            const hasModelWithTechnical = (
                (lowerMessage.includes('dr-') || lowerMessage.includes('nomad')) &&
                (lowerMessage.includes('ÂéüÁêÜ') || lowerMessage.includes('ÊûÑÈÄ†') || 
                 lowerMessage.includes('ÂÜÖÈÉ®') || lowerMessage.includes('ÁîµË∑Ø') ||
                 lowerMessage.includes('ÊäÄÊúØ') || lowerMessage.includes('ÂèÇÊï∞Ë°®') ||
                 lowerMessage.includes('ËßÑÊ†º‰π¶') || lowerMessage.includes('ËØ¥Êòé‰π¶‰∏ãËΩΩ'))
            );
            
            // Ê£ÄÊü•ÈóÆÈ¢òÈïøÂ∫¶ÂíåÂ§çÊùÇÊÄß (Ë∂ÖÈïø‰∏îÂåÖÂê´Â§ö‰∏™ÊäÄÊúØËØçÊ±á)
            const isComplexLongQuestion = (
                message.length > 100 && 
                (message.match(/[Ôºü?]/g) || []).length >= 2 &&
                (complexKeywords.filter(keyword => 
                    lowerMessage.includes(keyword.toLowerCase())).length >= 2)
            );
            
            return hasComplexKeywords || hasSpecificTechnical || hasModelWithTechnical || isComplexLongQuestion;
        }

        // Ê£ÄÊµãÊòØÂê¶ËØ∑Ê±ÇËΩ¨‰∫∫Â∑•
        function isRequestForHumanAgent(message) {
            const keywords = [
                'ËΩ¨‰∫∫Â∑•', '‰∫∫Â∑•ÂÆ¢Êúç', '‰∫∫Â∑•ÊúçÂä°', 'Áúü‰∫∫ÂÆ¢Êúç', 'ËÅîÁ≥ªÂÆ¢Êúç',
                'Â∑•Âçï', 'ÊäïËØâ', 'Áî≥ËØ∑ÈÄÄÊç¢', 'ÈÄÄË¥ß', 'Êç¢Ë¥ß', 'ÈÄÄÊ¨æ',
                '‰∏çÊª°ÊÑè', 'Ëß£ÂÜ≥‰∏ç‰∫Ü', 'Ê≤°ÊúâËß£ÂÜ≥', 'ËøòÊòØ‰∏çË°å',
                'Ë¶ÅÊ±ÇËµîÂÅø', 'Ë¥®ÈáèÈóÆÈ¢ò', 'ÊïÖÈöú‰∏•Èáç', 'Á¥ßÊÄ•ÈóÆÈ¢ò', '‰∫∫Â∑•', '‰∫∫Â∑•ÊîØÊåÅ'
            ];
            
            const lowerMessage = message.toLowerCase();
            return keywords.some(keyword => 
                lowerMessage.includes(keyword) || 
                lowerMessage.includes(keyword.toLowerCase())
            );
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫‰∫ßÂìÅÂØπÊØîËØ¢ÈóÆ
        function isProductComparison(message) {
            const comparisonKeywords = [
                'ÂØπÊØî', 'ÊØîËæÉ', 'Âå∫Âà´', 'Â∑ÆÂºÇ', '‰∏çÂêå', 'Âì™‰∏™Â•Ω', 'Êé®ËçêÂì™Ê¨æ',
                'ÈÄâÊã©', '‰ºòÁº∫ÁÇπ', '‰ºòÂä£', 'vs', 'VS', 'Âíå', '‰∏é'
            ];
            
            const productKeywords = [
                'DR-HHM002S', 'DR-HHM003S', 'Nomad One', 'Âä†ÊπøÂô®', 'Â°îÊâá', 
                'Á©∫Ê∞îÂáÄÂåñÂô®', 'È£éÊâá', 'ÊöñÈ£éÊú∫', 'Èô§ÊπøÊú∫'
            ];
            
            const lowerMessage = message.toLowerCase();
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´ÂØπÊØîÂÖ≥ÈîÆËØçÂíå‰∫ßÂìÅÂÖ≥ÈîÆËØç
            const hasComparison = comparisonKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            const hasProduct = productKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            // ÊàñËÄÖÊ£ÄÊü•ÊòØÂê¶ÂåÖÂê´Â§ö‰∏™‰∫ßÂìÅÂûãÂè∑
            const productMatches = productKeywords.filter(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            return (hasComparison && hasProduct) || productMatches.length >= 2;
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫Á§ºË≤åÊÄßÈóÆÂ•Ω
        function isGreeting(message) {
            const greetingKeywords = [
                'hello', 'hi', 'hey', '‰Ω†Â•Ω', 'ÊÇ®Â•Ω', 'Êó©‰∏äÂ•Ω', '‰∏ãÂçàÂ•Ω', 'Êôö‰∏äÂ•Ω',
                'Êó©ÂÆâ', 'ÊôöÂÆâ', 'Â•ΩÁöÑ', 'Ë∞¢Ë∞¢', 'ÊÑüË∞¢', 'ÂÜçËßÅ', 'ÊãúÊãú',
                'Á¨¨‰∏ÄÊ¨°', 'ÂàùÊ¨°', 'ÂºÄÂßã', 'Âí®ËØ¢'
            ];

            const lowerMessage = message.toLowerCase().trim();
            
            // Ê£ÄÊü•ÊòØÂê¶‰∏∫ÁÆÄÂçïÁöÑÈóÆÂ•Ω
            if (lowerMessage.length <= 10) {
                return greetingKeywords.some(keyword => 
                    lowerMessage.includes(keyword.toLowerCase()) ||
                    lowerMessage === keyword.toLowerCase()
                );
            }

            // Ê£ÄÊü•ÊòØÂê¶‰ª•ÈóÆÂ•ΩÂºÄÂ§¥
            return greetingKeywords.some(keyword => 
                lowerMessage.startsWith(keyword.toLowerCase())
            );
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫ÂÖ∂‰ªñÂìÅÁâåÈóÆÈ¢ò
        function isOtherBrandQuestion(message) {
            const otherBrands = [
                // ÂõΩÈôÖÂìÅÁâå
                'dyson', 'Êà¥Ê£Æ', 'xiaomi', 'Â∞èÁ±≥', 'philips', 'È£ûÂà©Êµ¶', 'panasonic', 'Êùæ‰∏ã',
                'sharp', 'Â§èÊôÆ', 'daikin', 'Â§ßÈáë', 'mitsubishi', '‰∏âËè±', 'gree', 'Ê†ºÂäõ',
                'haier', 'Êµ∑Â∞î', 'midea', 'ÁæéÁöÑ', 'aux', 'Â••ÂÖãÊñØ', 'tcl', 'TCL',
                'changhong', 'ÈïøËôπ', 'hisense', 'Êµ∑‰ø°', 'konka', 'Â∫∑‰Ω≥', 'skyworth', 'ÂàõÁª¥',
                // Á©∫Ë∞ÉÂìÅÁâå
                'carrier', 'ÂºÄÂà©', 'trane', 'ÁâπÁÅµ', 'york', 'Á∫¶ÂÖã', 'mcquay', 'È∫¶ÂÖãÁª¥Â∞î',
                // Â∞èÂÆ∂ÁîµÂìÅÁâå
                'bear', 'Â∞èÁÜä', 'joyoung', '‰πùÈò≥', 'supor', 'ËãèÊ≥äÂ∞î', 'povos', 'Â•îËÖæ',
                'aca', 'ACA', 'royalstar', 'Ëç£‰∫ãËææ', 'galanz', 'Ê†ºÂÖ∞‰ªï'
            ];

            const productCategories = [
                'Âä†ÊπøÂô®', 'Èô§ÊπøÊú∫', 'Á©∫Ê∞îÂáÄÂåñÂô®', 'È£éÊâá', 'Â°îÊâá', 'Á©∫Ë∞É', 'ÊöñÈ£éÊú∫',
                'Á©∫Ë∞ÉÊâá', 'Âæ™ÁéØÊâá', 'Âê∏Â∞òÂô®', 'Êâ´Âú∞Êú∫Âô®‰∫∫', 'Á©∫Ê∞îÁÇ∏ÈîÖ'
            ];

            const lowerMessage = message.toLowerCase();

            // Ê£ÄÊü•ÊòØÂê¶ÊèêÂà∞ÂÖ∂‰ªñÂìÅÁâå
            const hasOtherBrand = otherBrands.some(brand => 
                lowerMessage.includes(brand.toLowerCase())
            );

            // Ê£ÄÊü•ÊòØÂê¶ÊèêÂà∞‰∫ßÂìÅÂìÅÁ±ª
            const hasProductCategory = productCategories.some(category => 
                lowerMessage.includes(category)
            );

            // Á°Æ‰øù‰∏çÊòØDREOÁõ∏ÂÖ≥ÈóÆÈ¢ò
            const isDreoMentioned = lowerMessage.includes('dreo') || lowerMessage.includes('DREO');

            return hasOtherBrand && hasProductCategory && !isDreoMentioned;
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫Áî®Êà∑‰∏çÊª°Ë°®Ëææ
        function isDissatisfiedWithService(message) {
            const dissatisfactionKeywords = [
                // Áõ¥Êé•‰∏çÊª°ËØçÊ±á
                '‰∏çÊª°ÊÑè', '‰∏çË°å', 'Ê≤°Áî®', 'Êó†ËÅä', 'Â∑ÆÂä≤', 'Á≥üÁ≥ï', 'ÂûÉÂúæ', 'Â∫üÁâ©',
                '‰∏çÂ•Ω', 'ÂæàÂ∑Æ', 'Â§™Â∑Æ', '‰∏çÂ§üÂ•Ω', '‰∏çÂêàÊ†º', 'Â§±Êúõ', 'ÂæàÂ§±Êúõ',
                
                // ÊÉÖÁª™Ë°®Ëææ
                'ÁîüÊ∞î', 'ÊÑ§ÊÄí', 'ÁÉ¶Ë∫Å', 'ÈÉÅÈó∑', 'ÊÅºÁÅ´', 'Ê∞îÊ≠ª‰∫Ü', 'ÁÉ¶Ê≠ª‰∫Ü',
                'Êó†ËØ≠', 'Êó†Â•à', 'Â¥©Ê∫É', 'ÊäìÁãÇ', 'Âèó‰∏ç‰∫Ü', 'ÂøçÊó†ÂèØÂøç',
                
                // Âê¶ÂÆöËØÑ‰ª∑
                'ÊØ´Êó†Áî®Â§Ñ', '‰∏ÄÁÇπÁî®ÈÉΩÊ≤°Êúâ', 'ÂÆåÂÖ®Ê≤°Áî®', 'Ê†πÊú¨‰∏çË°å', 'Â§™ÂûÉÂúæ‰∫Ü',
                '‰ªÄ‰πàÈ¨º', '‰ªÄ‰πàÁé©ÊÑè', 'ÂùëÁàπ', 'Âùë‰∫∫', 'È™ó‰∫∫', 'ÂøΩÊÇ†',
                
                // ÊäïËØâÁõ∏ÂÖ≥
                'ÊäïËØâ', '‰∏æÊä•', 'Â∑ÆËØÑ', 'ÈÄÄÈí±', 'Ë¶ÅÊ±ÇËµîÂÅø', 'ÊâæÈ¢ÜÂØº', 'ÊâæÁªèÁêÜ',
                'ÂÆ¢Êúç‰∏çË°å', 'ÊúçÂä°Â§™Â∑Æ', 'ÊÄÅÂ∫¶‰∏çÂ•Ω', '‰∏ç‰∏ì‰∏ö',
                
                // ÂØπAIËÉΩÂäõÁöÑË¥®Áñë
                '‰∏çÊô∫ËÉΩ', 'Â§™Á¨®', 'Á¨®Ê≠ª‰∫Ü', 'Êô∫Èöú', '‰∫∫Â∑•Êô∫Èöú', 'Êú∫Âô®‰∫∫Â§™Á¨®',
                '‰∏ÄÁÇπÈÉΩ‰∏çËÅ™Êòé', 'ÂõûÁ≠î‰∏çÂØπ', 'Á≠îÈùûÊâÄÈóÆ', 'ÁâõÂ§¥‰∏çÂØπÈ©¨Âò¥',
                
                // ÊØîËæÉÊÄß‰∏çÊª°
                'Ëøò‰∏çÂ¶Ç', 'ËøòÊ≤°Êúâ', 'ÊØî‰∏ç‰∏ä', '‰∏çÂ¶ÇÂà´ÂÆ∂', 'ÂÖ∂‰ªñÂÆ∂Êõ¥Â•Ω',
                
                // Ëã±Êñá‰∏çÊª°
                'terrible', 'awful', 'bad', 'worst', 'useless', 'stupid',
                'disappointed', 'angry', 'frustrated', 'annoying'
            ];

            const frustratedExpressions = [
                // Êå´ÊäòË°®Ëææ
                'ËØï‰∫ÜÂ•ΩÂ§öÊ¨°', 'ËØï‰∫ÜÂæà‰πÖ', 'ÊäòËÖæ‰∫ÜÂçäÂ§©', 'Êµ™Ë¥πÊó∂Èó¥',
                'Ë∂äÊù•Ë∂äÁÉ¶', 'ÂøÉÁ¥Ø', 'Â§¥Áñº', 'È∫ªÁÉ¶Ê≠ª‰∫Ü',
                
                // ÊúüÊúõËêΩÂ∑Æ
                '‰∏çÊòØÊàëÊÉ≥Ë¶ÅÁöÑ', '‰∏çÁ¨¶ÂêàÈ¢ÑÊúü', 'ÂíåËØ¥ÁöÑ‰∏ç‰∏ÄÊ†∑', 'È™óÊàë',
                'ËØ¥Â•ΩÁöÑÂë¢', 'ÊâøËØ∫Âë¢', 'ÊÄé‰πàÂõû‰∫ã', 'Êêû‰ªÄ‰πà',
                
                // ÈáçÂ§çÈóÆÈ¢òË°®Ëææ
                'ËØ¥‰∫ÜÂ§öÂ∞ëÈÅç', 'ÈóÆ‰∫ÜÂ•ΩÂ§öÊ¨°', 'ÈáçÂ§ç‰∫ÜÂæàÂ§öÈÅç', 'ËøòÊòØÊ≤°ÊáÇ',
                'ÂèàÊù•ËøôÂ•ó', 'ËÄÅÊòØËøôÊ†∑', 'ÊØèÊ¨°ÈÉΩÊòØ', 'ËøòÊòØËÄÅÊ†∑Â≠ê'
            ];

            const negativeEmoticons = [
                // Ë¥üÈù¢Ë°®ÊÉÖ
                'üò°', 'üò†', 'ü§¨', 'üò§', 'üòí', 'üôÑ', 'üòë', 'üòê',
                'üí¢', 'üòû', 'üòî', 'üò≠', 'üò©', 'üò´', 'ü§¶', 'ü§∑'
            ];

            const lowerMessage = message.toLowerCase();
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´‰∏çÊª°ÂÖ≥ÈîÆËØç
            const hasDissatisfactionKeywords = dissatisfactionKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´Êå´ÊäòË°®Ëææ
            const hasFrustratedExpressions = frustratedExpressions.some(expr => 
                lowerMessage.includes(expr.toLowerCase())
            );
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´Ë¥üÈù¢Ë°®ÊÉÖ
            const hasNegativeEmoticons = negativeEmoticons.some(emoticon => 
                message.includes(emoticon)
            );
            
            // Ê£ÄÊü•Âê¶ÂÆöÊÄßÈóÆÂè•
            const negativeQuestions = [
                '‰∏∫‰ªÄ‰πà‰∏ç', 'ÊÄé‰πà‰∏ç', 'ËÉΩ‰∏çËÉΩ', '‰ºö‰∏ç‰ºö', 'ÈöæÈÅì‰∏ç',
                '‰Ω†‰ª¨ÊòØ‰∏çÊòØ', 'Âà∞Â∫ïË°å‰∏çË°å', '‰ªÄ‰πàÊÑèÊÄù', 'ÂºÄ‰ªÄ‰πàÁé©Á¨ë'
            ];
            
            const hasNegativeQuestions = negativeQuestions.some(question => 
                lowerMessage.includes(question)
            );
            
            // Ê£ÄÊü•ËøûÁª≠Âê¶ÂÆö
            const hasMultipleNegatives = (
                (message.match(/‰∏ç/g) || []).length >= 2 ||
                (message.match(/Ê≤°/g) || []).length >= 2 ||
                (message.includes('‰∏ç') && message.includes('Ê≤°'))
            );
            
            // Ê£ÄÊü•ÁâπÂÆö‰∏çÊª°Âè•Âºè
            const dissatisfactionPatterns = [
                'Ëøô‰ªÄ‰πà.*ÊúçÂä°', '‰ªÄ‰πà.*ÂÆ¢Êúç', 'Â§™.*‰∫Ü', '‰∏ÄÁÇπ.*Ê≤°Êúâ',
                'ÂÆåÂÖ®.*‰∏ç', 'Ê†πÊú¨.*‰∏ç', 'ÊÄé‰πà.*ËøôÊ†∑', '‰∏∫‰ªÄ‰πà.*‰∏ç'
            ];
            
            const hasDissatisfactionPattern = dissatisfactionPatterns.some(pattern => {
                const regex = new RegExp(pattern, 'i');
                return regex.test(message);
            });
            
            // ÊéíÈô§ËØØÂà§ÔºöÊ≠£Â∏∏ÁöÑÊäÄÊúØÈóÆÈ¢òËØ¢ÈóÆ
            const isTechnicalQuestion = [
                'ÊÄé‰πàËÆæÁΩÆ', 'Â¶Ç‰Ωï‰ΩøÁî®', 'ÊÄé‰πàÊìç‰Ωú', 'ÊÄé‰πàËøûÊé•', 'ÊÄé‰πàÂÆâË£Ö',
                '‰∏∫‰ªÄ‰πà‰ºö', '‰ªÄ‰πàÂéüÂõ†', 'ÊÄé‰πàËß£ÂÜ≥', 'Â¶Ç‰Ωï‰øÆÂ§ç'
            ].some(tech => lowerMessage.includes(tech));
            
            // Â¶ÇÊûúÊòØÊäÄÊúØÈóÆÈ¢òÔºåÂç≥‰ΩøÂåÖÂê´"‰∏∫‰ªÄ‰πà‰∏ç"Á≠âËØçÊ±á‰πü‰∏çÁÆó‰∏çÊª°
            if (isTechnicalQuestion && !hasDissatisfactionKeywords) {
                return false;
            }
            
            return hasDissatisfactionKeywords || hasFrustratedExpressions || hasNegativeEmoticons || 
                   (hasNegativeQuestions && hasMultipleNegatives) || hasDissatisfactionPattern;
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫ÊÑüË∞¢Ë°®ËææÔºàÈóÆÈ¢òÂ∑≤Ëß£ÂÜ≥Ôºâ
        function isThankfulForSolution(message) {
            const thanksKeywords = [
                // Áõ¥Êé•ÊÑüË∞¢ËØç
                'Ë∞¢Ë∞¢', 'ÊÑüË∞¢', 'Â§öË∞¢', 'Ë∞¢‰∫Ü', 'thanks', 'thank', '3q', '3Q',
                
                // ÊÑüË∞¢Âè•Âºè
                'Ë∞¢Ë∞¢‰Ω†', 'ÊÑüË∞¢ÊÇ®', 'Â§öË∞¢‰∫Ü', 'Ë∞¢Ë∞¢ÊÇ®ÁöÑ', 'ÊÑüË∞¢‰Ω†ÁöÑ',
                'ÈùûÂ∏∏ÊÑüË∞¢', 'ÂçÅÂàÜÊÑüË∞¢', 'ÁúüÁöÑË∞¢Ë∞¢', 'Â§™ÊÑüË∞¢‰∫Ü',
                
                // ÈóÆÈ¢òËß£ÂÜ≥Ë°®Ëææ
                'Ëß£ÂÜ≥‰∫Ü', 'ÊêûÂÆö‰∫Ü', 'ÂºÑÂ•Ω‰∫Ü', '‰øÆÂ•Ω‰∫Ü', 'Â•Ω‰∫Ü', 'Ë°å‰∫Ü',
                'ÂèØ‰ª•‰∫Ü', 'Ê≤°ÈóÆÈ¢ò‰∫Ü', 'Ê≠£Â∏∏‰∫Ü', 'ÁÆ°Áî®', 'ÊúâÁî®', 'ÊúâÊïà',
                'ÊàêÂäü‰∫Ü', 'ÊÅ¢Â§ç‰∫Ü', 'Â∑•‰Ωú‰∫Ü', 'ËøêË°å‰∫Ü',
                
                // ÁßØÊûÅÂèçÈ¶à
                'ÂæàÊúâÂ∏ÆÂä©', 'Â∏Æ‰∫ÜÂ§ßÂøô', 'Â∏ÆÂä©ÂæàÂ§ß', 'ÁúüÊúâÁî®', 'Á°ÆÂÆûÊúâÊïà',
                'ÈóÆÈ¢òËß£ÂÜ≥', 'Â∑≤ÁªèËß£ÂÜ≥', 'Áªà‰∫éÂ•Ω‰∫Ü', 'ÊûúÁÑ∂ÂèØ‰ª•'
            ];

            const solutionIndicators = [
                // Ëß£ÂÜ≥Áä∂ÊÄÅ
                'ÊåâÁÖß‰Ω†ÁöÑ', 'Êåâ‰Ω†ËØ¥ÁöÑ', 'ÁÖß‰Ω†ÁöÑÊñπÊ≥ï', 'Ê†πÊçÆ‰Ω†ÁöÑÂª∫ËÆÆ',
                'ÊåâÁÖßÊÇ®ÁöÑ', 'ÊåâÊÇ®ËØ¥ÁöÑ', 'ÁÖßÊÇ®ÁöÑÊñπÊ≥ï', 'Ê†πÊçÆÊÇ®ÁöÑÂª∫ËÆÆ',
                'ËØï‰∫Ü‰∏Ä‰∏ã', 'Â∞ùËØï‰∫Ü', 'Êìç‰Ωú‰∫Ü', 'ÊåâÁÖßÊìç‰Ωú',
                
                // ÊàêÂäüË°®Ëææ
                'ÊàêÂäü', 'ÊêûÂÆö', 'Ëß£ÂÜ≥', '‰øÆÂ§ç', 'ÊÅ¢Â§ç', 'Ê≠£Â∏∏',
                'ÂèØ‰ª•', 'ËÉΩÁî®', 'ÁÆ°Áî®', 'ÊúâÊïà', 'Â•Ω‰Ωø', 'Â∑•‰Ωú',
                
                // ÊÑüË∞¢+Ëß£ÂÜ≥ÁªÑÂêà
                'Â∏ÆÊàëËß£ÂÜ≥', 'Â∏ÆÂøôËß£ÂÜ≥', 'ÂëäËØâÊàëÊÄé‰πà', 'ÊïôÊàëÊÄé‰πà',
                'ÊåáÂØºÊàë', 'Â∏ÆÂä©Êàë', 'ËÆ©ÊàëÁü•ÈÅì'
            ];

            const lowerMessage = message.toLowerCase();
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´ÊÑüË∞¢ÂÖ≥ÈîÆËØç
            const hasThanksKeywords = thanksKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´Ëß£ÂÜ≥ÊñπÊ°àÊåáÁ§∫ËØç
            const hasSolutionIndicators = solutionIndicators.some(indicator => 
                lowerMessage.includes(indicator.toLowerCase())
            );
            
            // Ê£ÄÊü•ÁßØÊûÅÊÉÖÁª™Ë°®Ëææ
            const positiveExpressions = [
                'üëç', 'üëè', '‚úÖ', 'üíØ', 'üéâ', 'üòä', 'üòÅ', 'üôÇ',
                'Ê£í', 'Ëµû', 'Â•Ω', 'Â¶ô', 'ÂéâÂÆ≥', 'ÁªôÂäõ', '‰∏çÈîô'
            ];
            
            const hasPositiveExpression = positiveExpressions.some(expr => 
                message.includes(expr)
            );
            
            // ÊéíÈô§Á∫ØÁ≤πÁöÑÂÆ¢Â•óËØùÔºàÊ≤°ÊúâÂÆûË¥®ÂÜÖÂÆπÔºâ
            const isEmptyThanks = (
                message.trim().length <= 10 && 
                (message.includes('Ë∞¢Ë∞¢') || message.includes('ÊÑüË∞¢')) &&
                !hasSolutionIndicators
            );
            
            // Ê£ÄÊü•ÊòØÂê¶ÂêåÊó∂ÂåÖÂê´ÊÑüË∞¢ÂíåËß£ÂÜ≥ÊñπÊ°àÁõ∏ÂÖ≥ÂÜÖÂÆπ
            const isThankfulForHelp = hasThanksKeywords && (hasSolutionIndicators || hasPositiveExpression);
            
            // Ê£ÄÊü•ÁâπÂÆöÁöÑÊÑüË∞¢+Ëß£ÂÜ≥Âè•Âºè
            const specificPatterns = [
                'Ë∞¢Ë∞¢.*Ëß£ÂÜ≥', 'ÊÑüË∞¢.*Â∏Æ', 'Â§öË∞¢.*ÂëäËØâ', 'Ë∞¢Ë∞¢.*Êïô',
                'thanks.*help', 'thank.*solv', 'Êåâ.*Ë∞¢Ë∞¢', 'ÁÖß.*ÊÑüË∞¢'
            ];
            
            const hasSpecificPattern = specificPatterns.some(pattern => {
                const regex = new RegExp(pattern, 'i');
                return regex.test(message);
            });
            
            // ÈÅøÂÖçËØØÂà§ÔºöÊéíÈô§Ê±ÇÂä©Á±ªÈóÆÈ¢ò
            const isStillAskingForHelp = [
                'Ëøò', '‰ΩÜÊòØ', '‰∏çËøá', 'ÂèØÊòØ', 'ÁÑ∂ËÄå', 'ËøòÊúâ', 'Âè¶Â§ñ',
                'ÁªßÁª≠', 'Êé•‰∏ãÊù•', '‰∏ã‰∏ÄÊ≠•', 'ËøòÈúÄË¶Å', 'ÊÄé‰πàÂäû'
            ].some(word => lowerMessage.includes(word));
            
            // Â¶ÇÊûúËøòÂú®Ê±ÇÂä©Ôºå‰∏çÁÆóÊòØÊÑüË∞¢Ëß£ÂÜ≥
            if (isStillAskingForHelp) {
                return false;
            }
            
            return isThankfulForHelp || hasSpecificPattern || (hasThanksKeywords && !isEmptyThanks && message.length > 6);
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫ÊîπËøõÂª∫ËÆÆ
        function isImprovementSuggestion(message) {
            const suggestionKeywords = [
                // Áõ¥Êé•Âª∫ËÆÆÁ±ª
                'Âª∫ËÆÆ', 'ÊÑèËßÅ', 'ÂèçÈ¶à', 'ÊÉ≥Ê≥ï', 'ÊèêËÆÆ', 'ÁúãÊ≥ï', 'ËßÇÁÇπ',
                'Â∏åÊúõ', 'ÊúüÊúõ', 'ËÉΩ‰∏çËÉΩ', 'ÂèØÂê¶', 'ÂèØ‰ª•ËÄÉËôë', 'ÊúÄÂ•Ω',
                
                // ÊîπËøõÁ±ª
                'ÊîπËøõ', '‰ºòÂåñ', 'ÊèêÂçá', 'ÂÆåÂñÑ', 'Âä†Âº∫', 'ÊîπÂñÑ', 'ÂçáÁ∫ß',
                'Êõ¥Êñ∞', 'Â¢ûÂä†', 'Ê∑ªÂä†', 'Êñ∞Â¢û', 'Êâ©Â±ï', 'ÊîØÊåÅ',
                
                // ÈóÆÈ¢òÊåáÂá∫Á±ª
                'ÈóÆÈ¢ò', '‰∏çË∂≥', 'Áº∫ÁÇπ', '‰∏çÊñπ‰æø', 'È∫ªÁÉ¶', 'Âõ∞Èöæ',
                '‰∏çÂ§ü', 'Â§™Â∞ë', 'Â§™ÊÖ¢', '‰∏çÂ•ΩÁî®', '‰ΩìÈ™åÂ∑Æ',
                
                // ÂäüËÉΩÈúÄÊ±ÇÁ±ª
                'ÂäüËÉΩ', 'ÁâπÊÄß', 'ÈÄâÈ°π', 'Ê®°Âºè', 'ËÆæÁΩÆ', 'ÈÖçÁΩÆ',
                'ÁïåÈù¢', 'Êìç‰Ωú', 'ÊéßÂà∂', 'ÊòæÁ§∫', 'ÊèêÈÜí', 'ÈÄöÁü•',
                
                // ‰∫ßÂìÅÊîπËøõÁ±ª
                'ËÆæËÆ°', 'Â§ñËßÇ', 'ÊùêË¥®', 'È¢úËâ≤', 'Â∞∫ÂØ∏', 'ÈáçÈáè',
                'Âô™Èü≥', 'ÊïàÊûú', 'ÊÄßËÉΩ', 'Áª≠Ëà™', 'ËÄóÁîµ', 'ÂØøÂëΩ'
            ];

            const improvementContexts = [
                // ÊîπËøõÊñπÂêë
                'dreo', 'DREO', '‰∫ßÂìÅ', 'ËÆæÂ§á', 'Êú∫Âô®', 'ÂäüËÉΩ', 'app', 'APP',
                'ÁïåÈù¢', 'Êìç‰Ωú', '‰ΩøÁî®', '‰ΩìÈ™å', 'ÊúçÂä°', 'ÂÆ¢Êúç',
                
                // ÂÖ∑‰Ωì‰∫ßÂìÅ
                'DR-HHM002S', 'DR-HHM003S', 'Nomad One', 'Âä†ÊπøÂô®', 'Â°îÊâá',
                'È£éÊâá', 'ÊöñÈ£éÊú∫', 'Èô§ÊπøÊú∫', 'Á©∫Ê∞îÂáÄÂåñÂô®'
            ];

            const lowerMessage = message.toLowerCase();
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´Âª∫ËÆÆÂÖ≥ÈîÆËØç
            const hasSuggestionKeywords = suggestionKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´ÊîπËøõ‰∏ä‰∏ãÊñá
            const hasImprovementContext = improvementContexts.some(context => 
                lowerMessage.includes(context.toLowerCase())
            );
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´ÁñëÈóÆÂè•ÊàñÂª∫ËÆÆÂè•Âºè
            const suggestionPatterns = [
                'ËÉΩÂê¶', 'ÂèØÂê¶', 'ÂèØ‰ª•', 'Â∏åÊúõ', 'Âª∫ËÆÆ', 'ÊúÄÂ•Ω', 'Â∫îËØ•',
                'Â¶ÇÊûú', 'Ë¶ÅÊòØ', 'Âª∫ËÆÆ‰Ω†‰ª¨', '‰Ω†‰ª¨ÂèØ‰ª•', 'Â∏åÊúõËÉΩÂ§ü'
            ];
            
            const hasSuggestionPattern = suggestionPatterns.some(pattern => 
                lowerMessage.includes(pattern)
            );
            
            // ÊéíÈô§ÊòéÊòæÁöÑÈóÆÈ¢òÊ±ÇÂä©ÔºàÈÅøÂÖçËØØÂà§Ôºâ
            const helpKeywords = [
                'ÊÄé‰πàÂäû', 'Â¶Ç‰ΩïËß£ÂÜ≥', '‰ªÄ‰πàÂéüÂõ†', '‰∏∫‰ªÄ‰πà', 'ÊÄé‰πàÁî®',
                '‰∏ç‰ºöÁî®', 'Áî®‰∏ç‰∫Ü', 'Âùè‰∫Ü', 'ÊïÖÈöú', 'Áª¥‰øÆ'
            ];
            
            const isHelpRequest = helpKeywords.some(keyword => 
                lowerMessage.includes(keyword)
            );
            
            // Â¶ÇÊûúÊòØÊ±ÇÂä©ËØ∑Ê±ÇÔºå‰∏çÂà§Êñ≠‰∏∫Âª∫ËÆÆ
            if (isHelpRequest) {
                return false;
            }
            
            // Êª°Ë∂≥Âª∫ËÆÆÂÖ≥ÈîÆËØç‰∏îÊúâÁõ∏ÂÖ≥‰∏ä‰∏ãÊñáÔºåÊàñËÄÖÊúâÂª∫ËÆÆÂè•Âºè
            return (hasSuggestionKeywords && hasImprovementContext) || hasSuggestionPattern;
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫‰∫ßÂìÅÊé®ËçêËØ∑Ê±Ç
        function isProductRecommendationRequest(message) {
            const recommendationKeywords = [
                'Êé®Ëçê', 'Âª∫ËÆÆ', 'ÈÄâÊã©', '‰π∞‰ªÄ‰πà', 'Âì™Ê¨æÂ•Ω', 'Âì™‰∏™Â•Ω', '‰ªÄ‰πàÂûãÂè∑',
                'ÈÄÇÂêà', 'ÊÄß‰ª∑ÊØî', 'ÂÄºÂæó‰π∞', 'ÂÖ•Êâã', 'Ë¥≠‰π∞Âª∫ËÆÆ', 'ÊÄé‰πàÈÄâ',
                'ÊúÄÂ•ΩÁöÑ', 'ÊúÄÈÄÇÂêà', 'ÊúÄÊé®Ëçê', 'È¶ñÈÄâ', '‰ºòÈÄâ'
            ];

            const purposeKeywords = [
                'ÂÆ¢ÂéÖ', 'ÂçßÂÆ§', '‰π¶Êàø', 'ÂäûÂÖ¨ÂÆ§', 'Â©¥ÂÑøÊàø', 'ËÄÅ‰∫∫Êàø',
                'Â∞èÊà∑Âûã', 'Â§ßÊàøÈó¥', 'Âπ≤Áá•', 'ÊΩÆÊπø', 'ËøáÊïè', 'Â∞èÂ≠©',
                'ËÄÅ‰∫∫', 'Â≠ïÂ¶á', 'ÂÆ†Áâ©', 'Ê§çÁâ©', 'Êñ∞Êàø', 'Ë£Ö‰øÆ'
            ];

            const lowerMessage = message.toLowerCase();

            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´Êé®ËçêÂÖ≥ÈîÆËØç
            const hasRecommendation = recommendationKeywords.some(keyword => 
                lowerMessage.includes(keyword)
            );

            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´‰ΩøÁî®Âú∫ÊôØÊàñÁõÆÁöÑ
            const hasPurpose = purposeKeywords.some(keyword => 
                lowerMessage.includes(keyword)
            );

            // Ê£ÄÊü•ÊòØÂê¶ÊèêÂà∞‰∫ÜDREO‰∫ßÂìÅÁ±ªÂà´
            const productTypes = ['Âä†ÊπøÂô®', 'È£éÊâá', 'Â°îÊâá', 'ÂÆ∂Áîµ', '‰∫ßÂìÅ'];
            const hasProductType = productTypes.some(type => 
                lowerMessage.includes(type)
            );

            return hasRecommendation && (hasPurpose || hasProductType);
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫DREOÁõ∏ÂÖ≥ÈóÆÈ¢ò
        function isDreoRelatedQuestion(message) {
            const dreoKeywords = [
                // ÂìÅÁâåÁõ∏ÂÖ≥
                'dreo', 'DREO', 'Âæ∑Èæô', 
                // ‰∫ßÂìÅÂûãÂè∑
                'DR-HHM002S', 'DR-HHM003S', 'Nomad One', 'DR-', 
                // ‰∫ßÂìÅÁ±ªÂûã
                'Âä†ÊπøÂô®', 'Â°îÊâá', 'È£éÊâá', 'Á©∫Ê∞îÂáÄÂåñÂô®', 'ÊöñÈ£éÊú∫', 'Èô§ÊπøÊú∫', 'Á©∫Ë∞ÉÊâá',
                'Êô∫ËÉΩÂÆ∂Áîµ', 'Êô∫ËÉΩ‰∫ßÂìÅ', 'ÂÆ∂Áîµ', 'ÁîµÂô®',
                // ÂäüËÉΩÁõ∏ÂÖ≥
                'Âä†Êπø', 'Âà∂ÂÜ∑', 'Âà∂ÁÉ≠', 'ÂáÄÂåñ', 'Èô§Êπø', 'ÈôçÊ∏©', 'ÂçáÊ∏©', 'È£éÈÄü', 'Âô™Èü≥',
                'ÈÅ•Êéß', 'APPÊéßÂà∂', 'ÂÆöÊó∂', 'ÊπøÂ∫¶', 'Ê∏©Â∫¶', 'È£éÂäõ',
                // ÈóÆÈ¢òÁõ∏ÂÖ≥
                'ÊïÖÈöú', 'Áª¥‰øÆ', '‰øù‰øÆ', 'ÂîÆÂêé', 'ÈÖç‰ª∂', '‰ΩøÁî®ËØ¥Êòé', 'ÂÆâË£Ö', 'Ê∏ÖÊ¥Å',
                '‰∏çÂ∑•‰Ωú', 'Ê≤°ÂèçÂ∫î', 'ÂºÇÂìç', 'ÊºèÊ∞¥', '‰∏çÂà∂ÂÜ∑', '‰∏çÂä†Êπø',
                // Ë¥≠‰π∞Áõ∏ÂÖ≥
                '‰ª∑Ê†º', 'Ë¥≠‰π∞', 'ËÆ¢Âçï', 'ÂèëË¥ß', 'Áâ©ÊµÅ', 'ÈÄÄË¥ß', 'Êç¢Ë¥ß', 'ÈÄÄÊ¨æ'
            ];

            const lowerMessage = message.toLowerCase();
            
            // Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´DREOÁõ∏ÂÖ≥ÂÖ≥ÈîÆËØç
            const hasDreoKeywords = dreoKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );

            // ÊéíÈô§ÊòéÊòæÁöÑÈùûÁõ∏ÂÖ≥ÈóÆÈ¢ò
            const nonRelatedKeywords = [
                'Â§©Ê∞î', 'ËÇ°Á•®', 'Êñ∞Èóª',
                'Ë∑ØÁ∫ø', 'ÂØºËà™', '‰∫§ÈÄö', 'È§êÂéÖ', 'ÁîµÂΩ±', 'Èü≥‰πê', 'Ê∏∏Êàè',
                'ÁøªËØë', 'ËÆ°ÁÆó', 'Êï∞Â≠¶', 'ÂéÜÂè≤', 'Âú∞ÁêÜ', 'ÊîøÊ≤ª', '‰ΩìËÇ≤',
                'ÂêÉÈ•≠', 'Áù°Ëßâ', 'Â∑•‰Ωú', 'Â≠¶‰π†'
            ];

            const hasNonRelated = nonRelatedKeywords.some(keyword => 
                lowerMessage.includes(keyword.toLowerCase())
            );

            // Â¶ÇÊûúÂåÖÂê´ÈùûÁõ∏ÂÖ≥ÂÖ≥ÈîÆËØç‰∏î‰∏çÂåÖÂê´DREOÂÖ≥ÈîÆËØçÔºåÂàôËÆ§‰∏∫‰∏çÁõ∏ÂÖ≥
            if (hasNonRelated && !hasDreoKeywords) {
                return false;
            }

            // Â¶ÇÊûúÂåÖÂê´DREOÂÖ≥ÈîÆËØçÊàñËÄÖÊòØÂ∏∏ËßÅÁöÑÂÆ¢ÊúçÈóÆÈ¢òÔºåÂàôËÆ§‰∏∫Áõ∏ÂÖ≥
            return hasDreoKeywords || isCommonCustomerServiceQuestion(message);
        }

        // Ê£ÄÊµãÊòØÂê¶‰∏∫Â∏∏ËßÅÂÆ¢ÊúçÈóÆÈ¢òÔºàÂç≥‰ΩøÊ≤°ÊúâÊòéÁ°ÆÊèêÂà∞DREOÔºâ
        function isCommonCustomerServiceQuestion(message) {
            const commonServiceKeywords = [
                'ÊÄé‰πà', 'Â¶Ç‰Ωï', 'ÂèØ‰ª•', 'ËÉΩÂê¶', 'ÊòØÂê¶', '‰∏∫‰ªÄ‰πà', '‰ªÄ‰πàÊó∂ÂÄô',
                'Â∏ÆÂä©', 'ÊîØÊåÅ', 'Âí®ËØ¢', 'Âª∫ËÆÆ', 'Êé®Ëçê', 'ÈÄâÊã©',
                'ÈóÆÈ¢ò', 'ÊïÖÈöú', '‰∏çË°å', 'Âùè‰∫Ü', 'ÂºÇÂ∏∏'
            ];

            const lowerMessage = message.toLowerCase();
            return commonServiceKeywords.some(keyword => 
                lowerMessage.includes(keyword)
            );
        }

        // ‰∫ßÂìÅÂØπÊØîÊï∞ÊçÆ
        const productComparisonData = {
            'DR-HHM002S vs DR-HHM003S': {
                commonFeatures: '‰∏§Ê¨æ‰∫ßÂìÅÂùá‰∏∫DREOÊô∫ËÉΩÂä†ÊπøÂô®ÔºåÊîØÊåÅAPPËøúÁ®ãÊéßÂà∂ÔºåÂÖ∑Â§áËá™Âä®ÊπøÂ∫¶Ë∞ÉËäÇÂäüËÉΩÔºåÈÉΩÈááÁî®Ë∂ÖÂ£∞Ê≥¢Âä†ÊπøÊäÄÊúØÔºåÂô™Èü≥‰Ωé‰∫é35dBÔºåÊîØÊåÅÂÆöÊó∂ÂäüËÉΩ„ÄÇ',
                differences: [
                    { feature: 'Âä†ÊπøÂÆπÈáè', 'DR-HHM002S': '300ml/h', 'DR-HHM003S': '500ml/h' },
                    { feature: 'Ê∞¥ÁÆ±ÂÆπÈáè', 'DR-HHM002S': '4L', 'DR-HHM003S': '6L' },
                    { feature: 'ÈÄÇÁî®Èù¢ÁßØ', 'DR-HHM002S': '30-40„é°', 'DR-HHM003S': '50-60„é°' },
                    { feature: 'ÂäüÁéá', 'DR-HHM002S': '25W', 'DR-HHM003S': '35W' },
                    { feature: '‰ª∑Ê†ºÂå∫Èó¥', 'DR-HHM002S': '¬•299-399', 'DR-HHM003S': '¬•399-499' },
                    { feature: 'ÊòæÁ§∫Â±è', 'DR-HHM002S': 'LEDÊï∞Êòæ', 'DR-HHM003S': 'LCDÂΩ©Â±è' },
                    { feature: 'È¶ôËñ∞ÂäüËÉΩ', 'DR-HHM002S': '‰∏çÊîØÊåÅ', 'DR-HHM003S': 'ÊîØÊåÅ' }
                ],
                analysis: {
                    'DR-HHM002S': {
                        pros: ['‰ª∑Ê†ºÂÆûÊÉ†ÔºåÊÄß‰ª∑ÊØîÈ´ò', '‰ΩìÁßØÂ∞èÂ∑ßÔºå‰æø‰∫éÊëÜÊîæ', 'ÂäüËÄó‰ΩéÔºåËäÇËÉΩÁéØ‰øù', 'Êìç‰ΩúÁÆÄÂçïÔºåÊòì‰∫é‰ΩøÁî®'],
                        cons: ['Âä†ÊπøÈáèÁõ∏ÂØπËæÉÂ∞è', 'ÈÄÇÁî®Èù¢ÁßØÊúâÈôê', '‰∏çÊîØÊåÅÈ¶ôËñ∞ÂäüËÉΩ']
                    },
                    'DR-HHM003S': {
                        pros: ['Âä†ÊπøÈáèÂ§ßÔºåÊïàÊûúÊòæËëó', 'ÈÄÇÁî®Èù¢ÁßØÂπø', 'ÂΩ©Ëâ≤LCDÊòæÁ§∫Â±è', 'ÊîØÊåÅÈ¶ôËñ∞ÂäüËÉΩ'],
                        cons: ['‰ª∑Ê†ºÁõ∏ÂØπËæÉÈ´ò', '‰ΩìÁßØËæÉÂ§ß', 'ÂäüËÄóÁ®çÈ´ò']
                    }
                },
                recommendation: 'Â¶ÇÊûúÊÇ®ÁöÑÊàøÈó¥Èù¢ÁßØÂú®30-40„é°ÔºåËøΩÊ±ÇÊÄß‰ª∑ÊØîÔºåÂª∫ËÆÆÈÄâÊã©DR-HHM002SÔºõÂ¶ÇÊûúÊàøÈó¥Èù¢ÁßØËæÉÂ§ßÔºà50„é°‰ª•‰∏äÔºâÊàñËÄÖÈúÄË¶ÅÈ¶ôËñ∞ÂäüËÉΩÔºåÂª∫ËÆÆÈÄâÊã©DR-HHM003S„ÄÇ'
            }
        };

        // Ê∑ªÂä†‰∫ßÂìÅÂØπÊØîÂõûÂ§ç
        function addProductComparisonResponse(userMessage) {
            // ÁÆÄÂçïÁöÑ‰∫ßÂìÅËØÜÂà´ÈÄªËæëÔºåÂÆûÈôÖÂ∫îÁî®‰∏≠ÂèØ‰ª•Êõ¥Â§çÊùÇ
            let comparisonKey = 'DR-HHM002S vs DR-HHM003S'; // ÈªòËÆ§ÂØπÊØî
            
            if (userMessage.includes('DR-HHM002S') && userMessage.includes('DR-HHM003S')) {
                comparisonKey = 'DR-HHM002S vs DR-HHM003S';
            }
            
            const comparisonData = productComparisonData[comparisonKey];
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // Ê†áÈ¢ò
            const titleDiv = document.createElement('div');
            titleDiv.style.cssText = 'font-weight: bold; margin-bottom: 12px; color: #333; font-size: 14px;';
            titleDiv.textContent = `üìä ${comparisonKey} ËØ¶ÁªÜÂØπÊØîÂàÜÊûê`;
            messageContent.appendChild(titleDiv);
            
            // Áõ∏ÂêåÁÇπÊÄªÁªì
            const commonDiv = document.createElement('div');
            commonDiv.style.cssText = 'margin-bottom: 16px;';
            commonDiv.innerHTML = `
                <div style="font-size: 13px; color: #333;">${comparisonData.commonFeatures}</div>
            `;
            messageContent.appendChild(commonDiv);
            
            // Â∑ÆÂºÇÂØπÊØîË°®Ê†º
            const tableDiv = document.createElement('div');
            tableDiv.style.cssText = 'margin: 16px 0;';
            
            const tableTitle = document.createElement('div');
            tableTitle.style.cssText = 'font-weight: bold; color: #333; margin-bottom: 8px; font-size: 14px;';
            tableTitle.textContent = 'üìã ËØ¶ÁªÜÂ∑ÆÂºÇÂØπÊØî';
            tableDiv.appendChild(tableTitle);
            
            const table = document.createElement('table');
            table.className = 'comparison-table';
            
            // Ë°®Â§¥
            const thead = document.createElement('thead');
            const headerRow = document.createElement('tr');
            headerRow.innerHTML = `
                <th>ÂäüËÉΩÁâπÊÄß</th>
                <th>DR-HHM002S</th>
                <th>DR-HHM003S</th>
            `;
            thead.appendChild(headerRow);
            table.appendChild(thead);
            
            // Ë°®Ê†ºÂÜÖÂÆπ
            const tbody = document.createElement('tbody');
            comparisonData.differences.forEach(diff => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="feature-name">${diff.feature}</td>
                    <td>${diff['DR-HHM002S']}</td>
                    <td>${diff['DR-HHM003S']}</td>
                `;
                tbody.appendChild(row);
            });
            table.appendChild(tbody);
            
            tableDiv.appendChild(table);
            messageContent.appendChild(tableDiv);
            
            // // ‰ºòÂä£ÂäøÂàÜÊûê
            // const analysisDiv = document.createElement('div');
            // analysisDiv.style.cssText = 'margin: 16px 0;';
            
            // const analysisTitle = document.createElement('div');
            // analysisTitle.style.cssText = 'font-weight: bold; color: #333; margin-bottom: 12px; font-size: 14px;';
            // analysisTitle.textContent = '‚öñÔ∏è ‰ºòÂä£ÂäøÂàÜÊûê';
            // analysisDiv.appendChild(analysisTitle);
            
            // // DR-HHM002S ÂàÜÊûê
            // const analysis002S = document.createElement('div');
            // analysis002S.className = 'pros-cons-section';
            // analysis002S.innerHTML = `
            //     <div class="pros-cons-title">üîπ DR-HHM002S</div>
            //     <div style="margin-bottom: 8px;">
            //         <strong style="color: #28a745;">‚úÖ ‰ºòÂäøÔºö</strong>
            //         ${comparisonData.analysis['DR-HHM002S'].pros.map(pro => `<div class="pros-item">‚Ä¢ ${pro}</div>`).join('')}
            //     </div>
            //     <div>
            //         <strong style="color: #dc3545;">‚ùå Âä£ÂäøÔºö</strong>
            //         ${comparisonData.analysis['DR-HHM002S'].cons.map(con => `<div class="cons-item">‚Ä¢ ${con}</div>`).join('')}
            //     </div>
            // `;
            // analysisDiv.appendChild(analysis002S);
            
            // // DR-HHM003S ÂàÜÊûê
            // const analysis003S = document.createElement('div');
            // analysis003S.className = 'pros-cons-section';
            // analysis003S.innerHTML = `
            //     <div class="pros-cons-title">üîπ DR-HHM003S</div>
            //     <div style="margin-bottom: 8px;">
            //         <strong style="color: #28a745;">‚úÖ ‰ºòÂäøÔºö</strong>
            //         ${comparisonData.analysis['DR-HHM003S'].pros.map(pro => `<div class="pros-item">‚Ä¢ ${pro}</div>`).join('')}
            //     </div>
            //     <div>
            //         <strong style="color: #dc3545;">‚ùå Âä£ÂäøÔºö</strong>
            //         ${comparisonData.analysis['DR-HHM003S'].cons.map(con => `<div class="cons-item">‚Ä¢ ${con}</div>`).join('')}
            //     </div>
            // `;
            // analysisDiv.appendChild(analysis003S);
            
            // messageContent.appendChild(analysisDiv);
            
            // Ë¥≠‰π∞Âª∫ËÆÆ
            const recommendationDiv = document.createElement('div');
            recommendationDiv.style.cssText = 'margin-top: 16px; padding: 12px; background: #fff3cd; border-radius: 8px; border-left: 4px solid #ffc107;';
            recommendationDiv.innerHTML = `
                <div style="font-weight: bold; color: #856404; margin-bottom: 6px;">üí° Ë¥≠‰π∞Âª∫ËÆÆ</div>
                <div style="font-size: 13px; color: #856404;">${comparisonData.recommendation}</div>
            `;
            messageContent.appendChild(recommendationDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†ÈùûDREOÁõ∏ÂÖ≥ÈóÆÈ¢òÁöÑÂõûÂ§ç
        function addNonDreoResponse(userMessage) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // ÂàõÂª∫ÂõûÂ§çÂÜÖÂÆπ
            const responseDiv = document.createElement('div');
            responseDiv.style.cssText = 'padding: 12px; background: #fff8e1; border-radius: 8px; border-left: 4px solid #ff9800;';
            responseDiv.innerHTML = `
                <div style="color: #333; font-size: 14px; line-height: 1.5;">
                    ÂæàÊä±Ê≠âÔºåÊÇ®ÊèêÂá∫ÁöÑÈóÆÈ¢òË∂ÖÂá∫‰∫ÜÊàëÁõÆÂâçÁöÑÁü•ËØÜËåÉÂõ¥„ÄÇÊàëÊó†Ê≥ï‰∏∫ÊÇ®Êèê‰æõÂáÜÁ°ÆÁöÑËß£Á≠î„ÄÇ
                    <br><br>
                    <div>
                        
                        <div style="color: #333; font-size: 14px; margin-bottom: 14px;">
                            ‰∏∫‰∫ÜËß£ÂÜ≥ÊÇ®ÁöÑÈóÆÈ¢òÔºåÂª∫ËÆÆÊÇ®ËÅîÁ≥ª‰∏ì‰∏öÁöÑÊäÄÊúØÊîØÊåÅÂõ¢Èòü„ÄÇ
                        </div>

                        <div style="text-align: center; margin: 16px 0;">
                            <button onclick="window.open('https://support.dreo.com/en/support/request', '_blank')" 
                                    style="background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); 
                                           color: white; 
                                           border: none; 
                                           padding: 14px 28px; 
                                           border-radius: 25px; 
                                           font-size: 16px; 
                                           font-weight: bold; 
                                           cursor: pointer; 
                                           transition: all 0.3s ease;
                                           box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
                                           display: flex;
                                           align-items: center;
                                           justify-content: center;
                                           margin: 0 auto;"
                                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(230, 126, 34, 0.4)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(230, 126, 34, 0.3)'">
                                <span style="margin-right: 6px;">üìù</span>
                                Êèê‰∫§ÊäÄÊúØÊîØÊåÅÂ∑•Âçï
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            messageContent.appendChild(responseDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†ÈóÆÂ•ΩÂõûÂ§ç
        function addGreetingResponse() {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // ÂàõÂª∫ÈóÆÂ•ΩÂõûÂ§çÂÜÖÂÆπ
            const greetingDiv = document.createElement('div');
            greetingDiv.innerHTML = `
                <div style="display: flex; align-items: center; margin-bottom: 12px;">
                    <span style="font-size: 24px; margin-right: 8px;">üëã</span>
                    <strong style="color: #667eea; font-size: 16px;">ÊÇ®Â•ΩÔºÅÂæàÈ´òÂÖ¥‰∏∫ÊÇ®ÊúçÂä°ÔºÅ</strong>
                </div>
                
                <div>
                    <p style="color: #333; font-size: 14px; margin-bottom: 12px;">
                        ü§ñ ÊàëÊòØDREOÊô∫ËÉΩÂä©ÊâãÔºå‰∏ì‰∏∫DREOÊô∫ËÉΩÂÆ∂ÁîµÁî®Êà∑Êèê‰æõ7√ó24Â∞èÊó∂‰∏ì‰∏öÊúçÂä°ÔºåËá¥Âäõ‰∫éËÆ©ÊÇ®ÁöÑÊô∫ËÉΩÁîüÊ¥ªÊõ¥Âä†‰æøÊç∑ËàíÈÄÇ„ÄÇ
                    </p>
                </div>

                <div style="background: #f8f9fa; padding: 14px; border-radius: 10px; margin: 12px 0;">
                    <div style="font-weight: bold; color: #333; margin-bottom: 8px; display: flex; align-items: center;">
                        <span style="margin-right: 6px;">üéØ</span>ÊàëÂèØ‰ª•‰∏∫ÊÇ®Êèê‰æõÔºö
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 13px;">
                        <div style="display: flex; align-items: center; color: #555;">
                            <span style="color: #28a745; margin-right: 4px;">‚úì</span>‰∫ßÂìÅÂí®ËØ¢‰∏éÂØπÊØî
                        </div>
                        <div style="display: flex; align-items: center; color: #555;">
                            <span style="color: #28a745; margin-right: 4px;">‚úì</span>ÊïÖÈöúËØäÊñ≠Ëß£ÂÜ≥
                        </div>
                        <div style="display: flex; align-items: center; color: #555;">
                            <span style="color: #28a745; margin-right: 4px;">‚úì</span>‰ΩøÁî®ÊåáÂØºÂ∏ÆÂä©
                        </div>
                        <div style="display: flex; align-items: center; color: #555;">
                            <span style="color: #28a745; margin-right: 4px;">‚úì</span>ÂîÆÂêéÊúçÂä°ÊîØÊåÅ
                        </div>
                    </div>
                </div>

                <div>
                    <p style="color: #333; font-size: 14px; margin-bottom: 12px;">
                        üí¨ ËØ∑ÂëäËØâÊàëÊÇ®ÈúÄË¶Å‰ªÄ‰πàÂ∏ÆÂä©
                    </p>
                </div>
            `;
            
            messageContent.appendChild(greetingDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // DREO‰∫ßÂìÅÊé®ËçêÊï∞ÊçÆ
        const dreoProductRecommendations = {
            'Âä†ÊπøÂô®': {
                category: 'Âä†ÊπøÂô®',
                description: 'DREOÂä†ÊπøÂô®ÈááÁî®Ë∂ÖÂ£∞Ê≥¢ÈõæÂåñÊäÄÊúØÔºåÈùôÈü≥ËøêË°åÔºåÊô∫ËÉΩÊéßÂà∂ÊπøÂ∫¶Ôºå‰∏∫ÊÇ®ÊâìÈÄ†ËàíÈÄÇÂÅ•Â∫∑ÁöÑÂÆ§ÂÜÖÁéØÂ¢É„ÄÇ',
                products: [
                    {
                        model: 'DR-HHM003S',
                        name: 'Êô∫ËÉΩÂä†ÊπøÂô® (Â§ßÂÆπÈáèÁâà)',
                        features: ['6LÂ§ßÂÆπÈáèÊ∞¥ÁÆ±', '500ml/hÂä†ÊπøÈáè', '50-60„é°ÈÄÇÁî®', 'LCDÂΩ©Â±èÊòæÁ§∫', 'ÊîØÊåÅÈ¶ôËñ∞ÂäüËÉΩ'],
                        price: '¬•399-499'
                    },
                    {
                        model: 'DR-HHM002S', 
                        name: 'Êô∫ËÉΩÂä†ÊπøÂô® (ÁªèÊµéÁâà)',
                        features: ['4LÊ∞¥ÁÆ±ÂÆπÈáè', '300ml/hÂä†ÊπøÈáè', '30-40„é°ÈÄÇÁî®', 'LEDÊï∞Êòæ', 'Ë∂ÖÈùôÈü≥ËÆæËÆ°'],
                        price: '¬•299-399'
                    }
                ]
            },
            'È£éÊâá': {
                category: 'Â°îÊâá/È£éÊâá',
                description: 'DREOÂ°îÊâáÊê≠ËΩΩÂÖàËøõÁ©∫Ê∞îÂä®ÂäõÂ≠¶ËÆæËÆ°ÔºåÊèê‰æõÂº∫Âä≤ËÄåÂÆâÈùôÁöÑÈ£éÂäõÔºåÊô∫ËÉΩÊéßÂà∂ËÆ©ÊÇ®‰∫´Âèó‰∏™ÊÄßÂåñÁöÑÊ∏ÖÂáâ‰ΩìÈ™å„ÄÇ',
                products: [
                    {
                        model: 'Nomad One',
                        name: 'Êô∫ËÉΩÂ°îÊâá',
                        features: ['108Ê°£È£éÈÄüË∞ÉËäÇ', 'Ë∂ÖÈùôÈü≥ËøêË°å', 'APPËøúÁ®ãÊéßÂà∂', 'ÂÆöÊó∂È¢ÑÁ∫¶ÂäüËÉΩ', 'Ëá™ÁÑ∂È£éÊ®°Êãü'],
                        price: '¬•699-899'
                    }
                ]
            },
            'Â°îÊâá': {
                category: 'Â°îÊâá/È£éÊâá', 
                description: 'DREOÂ°îÊâáÊê≠ËΩΩÂÖàËøõÁ©∫Ê∞îÂä®ÂäõÂ≠¶ËÆæËÆ°ÔºåÊèê‰æõÂº∫Âä≤ËÄåÂÆâÈùôÁöÑÈ£éÂäõÔºåÊô∫ËÉΩÊéßÂà∂ËÆ©ÊÇ®‰∫´Âèó‰∏™ÊÄßÂåñÁöÑÊ∏ÖÂáâ‰ΩìÈ™å„ÄÇ',
                products: [
                    {
                        model: 'Nomad One',
                        name: 'Êô∫ËÉΩÂ°îÊâá',
                        features: ['108Ê°£È£éÈÄüË∞ÉËäÇ', 'Ë∂ÖÈùôÈü≥ËøêË°å', 'APPËøúÁ®ãÊéßÂà∂', 'ÂÆöÊó∂È¢ÑÁ∫¶ÂäüËÉΩ', 'Ëá™ÁÑ∂È£éÊ®°Êãü'],
                        price: '¬•699-899'
                    }
                ]
            },
            'Á©∫Ê∞îÂáÄÂåñÂô®': {
                category: 'Á©∫Ê∞îÂáÄÂåñÂô®',
                description: 'DREO‰∏ìÊ≥®‰∫éÁ©∫Ê∞îË¥®ÈáèÊîπÂñÑÔºåÊàë‰ª¨ÁöÑ‰∫ßÂìÅ‰∏ªË¶ÅÈõÜ‰∏≠Âú®Á©∫Ê∞îÊµÅÂä®ÂíåÊπøÂ∫¶Ë∞ÉËäÇÈ¢ÜÂüüÔºå‰∏∫ÊÇ®Êé®ËçêÊàë‰ª¨ÁöÑÁ©∫Ê∞îÂæ™ÁéØÂíåÂáÄÂåñËß£ÂÜ≥ÊñπÊ°à„ÄÇ',
                products: [
                    {
                        model: 'Nomad OneÂ°îÊâá',
                        name: 'Êô∫ËÉΩÁ©∫Ê∞îÂæ™ÁéØÊâá',
                        features: ['Âº∫ÂäõÁ©∫Ê∞îÂæ™ÁéØ', 'ÂáÄÂåñÁ©∫Ê∞îÊµÅÂä®', 'Èô§ÊπøÈÖçÂêà‰ΩøÁî®', 'Êô∫ËÉΩÈ£éÈÄüÊéßÂà∂'],
                        price: '¬•699-899'
                    }
                ]
            }
        };

        // ‰∫ßÂìÅÊé®ËçêÊï∞ÊçÆÂ∫ì
        const productRecommendationDatabase = {
            recommendations: [
                {
                    id: 'dr-hhm003s',
                    model: 'DR-HHM003S',
                    name: 'Êô∫ËÉΩÂä†ÊπøÂô® (Â§ßÂÆπÈáèÁâà)',
                    category: 'Âä†ÊπøÂô®',
                    price: '¬•399-499',
                    image: 'üè†',
                    link: 'https://support.dreo.com/en', // ÂÆûÈôÖ‰∫ßÂìÅÈ°µÈù¢ÈìæÊé•
                    features: ['6LÂ§ßÂÆπÈáèÊ∞¥ÁÆ±', '500ml/hÂä†ÊπøÈáè', '50-60„é°ÈÄÇÁî®', 'LCDÂΩ©Â±èÊòæÁ§∫', 'ÊîØÊåÅÈ¶ôËñ∞ÂäüËÉΩ', 'APPÊô∫ËÉΩÊéßÂà∂'],
                    suitableFor: ['Â§ßÊàøÈó¥', 'ÂÆ¢ÂéÖ', 'ÂäûÂÖ¨ÂÆ§', 'Â©¥ÂÑøÊàø'],
                    highlights: ['Â§ßÂÆπÈáè', 'È´òÊïàÂä†Êπø', 'Êô∫ËÉΩÊéßÂà∂'],
                    reasonTemplate: 'ÈÄÇÂêàÂ§ßÁ©∫Èó¥‰ΩøÁî®Ôºå6LÂ§ßÂÆπÈáèÂáèÂ∞ëÈ¢ëÁπÅÂä†Ê∞¥ÔºåLCDÂΩ©Â±èÊìç‰ΩúÁÆÄ‰æø'
                },
                {
                    id: 'dr-hhm002s',
                    model: 'DR-HHM002S', 
                    name: 'Êô∫ËÉΩÂä†ÊπøÂô® (ÁªèÊµéÁâà)',
                    category: 'Âä†ÊπøÂô®',
                    price: '¬•299-399',
                    image: 'üè°',
                    link: 'https://support.dreo.com/en',
                    features: ['4LÊ∞¥ÁÆ±ÂÆπÈáè', '300ml/hÂä†ÊπøÈáè', '30-40„é°ÈÄÇÁî®', 'LEDÊï∞Êòæ', 'Ë∂ÖÈùôÈü≥ËÆæËÆ°', 'ËäÇËÉΩÁúÅÁîµ'],
                    suitableFor: ['ÂçßÂÆ§', '‰π¶Êàø', 'Â∞èÊà∑Âûã', 'Âçï‰∫∫Êàø'],
                    highlights: ['ÊÄß‰ª∑ÊØîÈ´ò', 'ÈùôÈü≥ËøêË°å', 'ËäÇËÉΩÁéØ‰øù'],
                    reasonTemplate: 'ÊÄß‰ª∑ÊØî‰πãÈÄâÔºåÈÄÇÂêà‰∏≠Â∞èÂûãÊàøÈó¥ÔºåË∂ÖÈùôÈü≥ËÆæËÆ°‰∏çÂΩ±ÂìçÁù°Áú†'
                },
                {
                    id: 'nomad-one',
                    model: 'Nomad One',
                    name: 'Êô∫ËÉΩÂ°îÊâá',
                    category: 'È£éÊâá',
                    price: '¬•699-899',
                    image: 'üå™Ô∏è',
                    link: 'https://support.dreo.com/en',
                    features: ['108Ê°£È£éÈÄüË∞ÉËäÇ', 'Ë∂ÖÈùôÈü≥ËøêË°å', 'APPËøúÁ®ãÊéßÂà∂', 'ÂÆöÊó∂È¢ÑÁ∫¶ÂäüËÉΩ', 'Ëá™ÁÑ∂È£éÊ®°Êãü', 'Á©∫Ê∞îÂæ™ÁéØ'],
                    suitableFor: ['ÂÆ¢ÂéÖ', 'ÂçßÂÆ§', 'ÂäûÂÖ¨ÂÆ§', 'ÂÖ®Â±ã'],
                    highlights: ['Á≤æÁªÜË∞ÉÊéß', 'Êô∫ËÉΩ‰∫íËÅî', 'ËäÇËÉΩÈôçÂô™'],
                    reasonTemplate: '108Ê°£Á≤æÁªÜÈ£éÈÄüË∞ÉËäÇÔºåÊô∫ËÉΩÂåñÁ®ãÂ∫¶È´òÔºåÈÄÇÂêàËøΩÊ±Ç‰∏™ÊÄßÂåñ‰ΩìÈ™åÁöÑÁî®Êà∑'
                }
            ],
            
            // Ê†πÊçÆÁî®Êà∑ÈúÄÊ±ÇÊô∫ËÉΩÊé®Ëçê‰∫ßÂìÅ
            getRecommendations: function(userMessage) {
                const message = userMessage.toLowerCase();
                let recommendations = [];
                
                // Âü∫‰∫é‰ΩøÁî®Âú∫ÊôØÊé®Ëçê
                if (message.includes('ÂçßÂÆ§') || message.includes('Áù°Ëßâ') || message.includes('ÂÆâÈùô') || message.includes('ÈùôÈü≥')) {
                    recommendations.push(this.recommendations[1], this.recommendations[2]); // DR-HHM002S, Nomad One
                } else if (message.includes('ÂÆ¢ÂéÖ') || message.includes('Â§ßÊàøÈó¥') || message.includes('ÂäûÂÖ¨ÂÆ§')) {
                    recommendations.push(this.recommendations[0], this.recommendations[2]); // DR-HHM003S, Nomad One
                } else if (message.includes('Â©¥ÂÑø') || message.includes('Â∞èÂ≠©') || message.includes('Â≠ïÂ¶á')) {
                    recommendations.push(this.recommendations[1], this.recommendations[0]); // ÈùôÈü≥‰ºòÂÖà
                } else if (message.includes('ÊÄß‰ª∑ÊØî') || message.includes('‰æøÂÆú') || message.includes('ÁªèÊµé')) {
                    recommendations.push(this.recommendations[1], this.recommendations[0]); // ÊÄß‰ª∑ÊØî‰ºòÂÖà
                }
                
                // Âü∫‰∫é‰∫ßÂìÅÁ±ªÂûãÊé®Ëçê
                if (message.includes('Âä†ÊπøÂô®') || message.includes('Âπ≤Áá•') || message.includes('ÊπøÂ∫¶')) {
                    if (!recommendations.some(r => r.category === 'Âä†ÊπøÂô®')) {
                        recommendations.unshift(this.recommendations[0], this.recommendations[1]);
                    }
                } else if (message.includes('È£éÊâá') || message.includes('Â°îÊâá') || message.includes('ÈôçÊ∏©') || message.includes('ÂáâÂø´')) {
                    if (!recommendations.some(r => r.category === 'È£éÊâá')) {
                        recommendations.unshift(this.recommendations[2]);
                    }
                }
                
                // ÈªòËÆ§Êé®ËçêÔºàÂ¶ÇÊûúÊ≤°ÊúâÁâπÂÆöÂåπÈÖçÔºâ
                if (recommendations.length === 0) {
                    recommendations = [this.recommendations[0], this.recommendations[1], this.recommendations[2]];
                }
                
                // ÈôêÂà∂ÊúÄÂ§ö3‰∏™Êé®Ëçê
                return recommendations.slice(0, 3);
            }
        };

        // Ê∑ªÂä†‰∫ßÂìÅÊé®ËçêÂõûÂ§ç
        function addProductRecommendationResponse(userMessage) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // Ê†áÈ¢ò
            const titleDiv = document.createElement('div');
            titleDiv.style.cssText = 'font-weight: bold; margin-bottom: 12px; color: #333; font-size: 16px; display: flex; align-items: center;';
            titleDiv.innerHTML = `
                <span style="font-size: 20px; margin-right: 8px;">üéØ</span>
                ‰∏∫ÊÇ®Á≤æÈÄâDREO‰∫ßÂìÅÊé®Ëçê
            `;
            messageContent.appendChild(titleDiv);

            // Ëé∑ÂèñÊé®Ëçê‰∫ßÂìÅ
            const recommendedProducts = productRecommendationDatabase.getRecommendations(userMessage);
            
            // Êé®ËçêÁêÜÁî±ËØ¥Êòé
            const reasonDiv = document.createElement('div');
            reasonDiv.className = 'recommendation-reason';
            reasonDiv.innerHTML = `
                <div style="color: #333; font-size: 13px;">
                    Âü∫‰∫éÊÇ®ÁöÑÈúÄÊ±ÇÔºåÊàë‰∏∫ÊÇ®Êé®Ëçê‰ª•‰∏ã${recommendedProducts.length}Ê¨æDREO‰∫ßÂìÅÔºåÊØèÊ¨æÈÉΩÊúâÂÖ∂Áã¨Áâπ‰ºòÂäøÔºö
                </div>
            `;
            messageContent.appendChild(reasonDiv);

            // ‰∫ßÂìÅÂç°Áâá
            recommendedProducts.forEach((product, index) => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.onclick = () => {
                    window.open(product.link, '_blank');
                };

                productCard.innerHTML = `
                    <div class="card-overlay">ÁÇπÂáªÊü•ÁúãËØ¶ÊÉÖ</div>
                    
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; margin-bottom: 6px;">
                                <span style="font-size: 24px; margin-right: 8px;">${product.image}</span>
                                <div>
                                    <div style="font-weight: bold; color: #333; font-size: 16px;">${product.model}</div>
                                    <div style="color: #666; font-size: 13px;">${product.name}</div>
                                </div>
                            </div>
                            
                            <div style="margin: 8px 0;">
                                ${product.highlights.map(highlight => 
                                    `<span class="product-badge">${highlight}</span>`
                                ).join('')}
                            </div>
                        </div>
                        
                        <div style="text-align: right;">
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 6px 12px; border-radius: 6px; font-size: 14px; font-weight: bold; margin-bottom: 6px;">
                                ${product.price}
                            </div>
                            <div style="color: #28a745; font-size: 12px; font-weight: bold;">
                                üî• Á¨¨${index + 1}Êé®Ëçê
                            </div>
                        </div>
                    </div>

                    <div style="background: #f8f9fa; padding: 10px; border-radius: 6px; margin: 10px 0;">
                        <div style="font-size: 12px; color: #333;">
                            ${product.reasonTemplate}
                        </div>
                    </div>

                    <div style="margin-top: 10px;">
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 4px;">
                            ${product.features.map(feature => 
                                `<div style="font-size: 11px; color: #555; display: flex; align-items: center;">
                                    <span style="color: #28a745; margin-right: 4px;">‚óè</span>${feature}
                                </div>`
                            ).join('')}
                        </div>
                    </div>

                `;

                messageContent.appendChild(productCard);
            });

            // Âí®ËØ¢ÊèêÁ§∫
            const consultDiv = document.createElement('div');
            consultDiv.style.cssText = 'padding: 12px; margin-top: 16px;';
            consultDiv.innerHTML = `
                <div style="font-size: 14px;">
                    üí¨ Â¶ÇÈúÄ‰∫ÜËß£Êõ¥Â§ö‰∫ßÂìÅËØ¶ÊÉÖ„ÄÅ‰ΩøÁî®ÊåáÂØºÊàñÊúâÂÖ∂‰ªñÁñëÈóÆÔºåÈöèÊó∂Âí®ËØ¢ÊàëÔºÅ
                </div>
            `;
            messageContent.appendChild(consultDiv);

            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†ÊîπËøõÂª∫ËÆÆÂõûÂ§ç
        function addImprovementSuggestionResponse(userMessage) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // ÊèêÂèñÂª∫ËÆÆÁöÑÊ†∏ÂøÉÂÜÖÂÆπÔºàÁÆÄÂçïÁöÑÂÖ≥ÈîÆËØçÊèêÂèñÔºâ
            const suggestionSummary = extractSuggestionSummary(userMessage);
            
            const responseDiv = document.createElement('div');
            responseDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%); padding: 18px; border-radius: 12px; border-left: 4px solid #4caf50;">
                    <div style="display: flex; align-items: center; margin-bottom: 14px;">
                        <span style="font-size: 24px; margin-right: 10px;">üí°</span>
                        <strong style="color: #2e7d32; font-size: 18px;">ÈùûÂ∏∏ÊÑüË∞¢ÊÇ®ÁöÑÂÆùË¥µÂª∫ËÆÆÔºÅ</strong>
                    </div>
                    
                    <div style="color: #388e3c; font-size: 14px; margin-bottom: 16px; line-height: 1.6;">
                        ÊÇ®ÊèêÂá∫ÁöÑ"<em style="color: #1b5e20; font-weight: bold;">${suggestionSummary}</em>"Âª∫ËÆÆÈùûÂ∏∏Êúâ‰ª∑ÂÄºÔºÅ
                        ËøôÊ≠£ÊòØÊàë‰ª¨ÊåÅÁª≠ÊîπËøõ‰∫ßÂìÅÂíåÊúçÂä°ÊâÄÈúÄË¶ÅÁöÑÁúüÂÆûÁî®Êà∑ÂèçÈ¶à„ÄÇ
                    </div>

                    <div style="margin: 16px 0;">
                        <div style="display: grid; gap: 10px;">
                            <div style="display: flex; align-items: center; color: #388e3c; font-size: 13px;">
                                <span style="background: #4caf50; color: white; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 10px; margin-right: 8px;">1</span>
                                Êàë‰ª¨Â∑≤Êî∂ÂΩïÊÇ®ÁöÑÂª∫ËÆÆÂà∞‰∫ßÂìÅÊîπËøõÊï∞ÊçÆÂ∫ì
                            </div>
                            <div style="display: flex; align-items: center; color: #388e3c; font-size: 13px;">
                                <span style="background: #4caf50; color: white; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 10px; margin-right: 8px;">2</span>
                                Áõ∏ÂÖ≥‰∫ßÂìÅÂõ¢ÈòüÂ∞ÜËøõË°å‰∏ì‰∏öËØÑ‰º∞ÂàÜÊûê
                            </div>
                            <div style="display: flex; align-items: center; color: #388e3c; font-size: 13px;">
                                <span style="background: #4caf50; color: white; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 10px; margin-right: 8px;">3</span>
                                ÂèØË°åÂª∫ËÆÆÂ∞ÜÁ∫≥ÂÖ•‰∫ßÂìÅËø≠‰ª£ÂºÄÂèëËÆ°Âàí
                            </div>
                            <div style="display: flex; align-items: center; color: #388e3c; font-size: 13px;">
                                <span style="background: #4caf50; color: white; border-radius: 50%; width: 18px; height: 18px; display: flex; align-items: center; justify-content: center; font-size: 10px; margin-right: 8px;">4</span>
                                Êàë‰ª¨‰ºöÈÄöËøáÂ§öÊ∏†ÈÅìÈÄöÁü•ÊîπËøõËøõÂ±ï
                            </div>
                        </div>
                    </div>

                    <div style="background: linear-gradient(135deg, #fff3e0 0%, #fffbf0 100%); border: 2px solid #ff9800; border-radius: 12px; padding: 16px; margin: 16px 0;">
                        <div style="color: #bf360c; font-size: 14px; margin-bottom: 14px;">
                            DREOËØöÈÇÄÊÇ®Âä†ÂÖ•ÂÖ±ÂàõËÆ°ÂàíÔºåÊàê‰∏∫‰∫ßÂìÅÂÖ±Âàõ‰ºô‰º¥Ôºå‰∏éÊàë‰ª¨‰∏ÄËµ∑ÊâìÈÄ†Êõ¥ÂÆåÁæéÁöÑÊô∫ËÉΩÂÆ∂Â±Ö‰ΩìÈ™åÔºÅ
                        </div>

                        <div style="text-align: center;">
                            <button onclick="window.open('https://account.dreo.com/en/cocreator-program', '_blank')" 
                                    style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%); 
                                           color: white; 
                                           border: none; 
                                           padding: 12px 24px; 
                                           border-radius: 25px; 
                                           font-size: 14px; 
                                           font-weight: bold; 
                                           cursor: pointer; 
                                           transition: all 0.3s ease;
                                           box-shadow: 0 4px 15px rgba(255, 152, 0, 0.3);"
                                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(255, 152, 0, 0.4)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(255, 152, 0, 0.3)'">
                                üéØ Á´ãÂç≥Âä†ÂÖ•ÂÖ±ÂàõËÆ°Âàí
                            </button>
                        </div>
                        
                        <div style="text-align: center; margin-top: 16px; color: #bf360c; font-size: 11px;">
                            ‰ºòÂÖà‰ΩìÈ™åÊñ∞ÂäüËÉΩÔºåËé∑Âæó‰∏ìÂ±ûÊùÉÁõä
                        </div>
                    </div>

                </div>
            `;
            
            messageContent.appendChild(responseDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†Êú™ÊâæÂà∞ÂØπÂ∫îËß£ÂÜ≥ÊñπÊ°àÁöÑÂõûÂ§ç
        function addNoSolutionFoundResponse(userMessage) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            const responseDiv = document.createElement('div');
            responseDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #fff3e0 0%, #ffeaa7 100%); padding: 18px; border-radius: 12px; border-left: 4px solid #f39c12;">
                    <div style="color: #333; font-size: 14px; margin-bottom: 16px; line-height: 1.6;">
                        ÂæàÊä±Ê≠âÔºåÊÇ®ÊèêÂá∫ÁöÑÈóÆÈ¢òË∂ÖÂá∫‰∫ÜÊàëÁõÆÂâçÁöÑÁü•ËØÜËåÉÂõ¥„ÄÇÊàëÊó†Ê≥ï‰∏∫ÊÇ®Êèê‰æõÂáÜÁ°ÆÁöÑËß£Á≠î„ÄÇ
                    </div>

                    <div style="margin: 16px 0;">
                        
                        <div style="color: #333; font-size: 14px; margin-bottom: 14px;">
                            ‰∏∫‰∫ÜËß£ÂÜ≥ÊÇ®ÁöÑÈóÆÈ¢òÔºåÂª∫ËÆÆÊÇ®ËÅîÁ≥ª‰∏ì‰∏öÁöÑÊäÄÊúØÊîØÊåÅÂõ¢Èòü„ÄÇ
                        </div>

                        <div style="text-align: center; margin: 16px 0;">
                            <button onclick="window.open('https://support.dreo.com/en/support/request', '_blank')" 
                                    style="background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); 
                                           color: white; 
                                           border: none; 
                                           padding: 14px 28px; 
                                           border-radius: 25px; 
                                           font-size: 16px; 
                                           font-weight: bold; 
                                           cursor: pointer; 
                                           transition: all 0.3s ease;
                                           box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
                                           display: flex;
                                           align-items: center;
                                           justify-content: center;
                                           margin: 0 auto;"
                                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(230, 126, 34, 0.4)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(230, 126, 34, 0.3)'">
                                <span style="margin-right: 6px;">üìù</span>
                                Êèê‰∫§ÊäÄÊúØÊîØÊåÅÂ∑•Âçï
                            </button>
                        </div>
                    </div>

                </div>
            `;
            
            messageContent.appendChild(responseDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // ÊèêÂèñÂª∫ËÆÆÊ†∏ÂøÉÂÜÖÂÆπÁöÑÁÆÄÂçïÂáΩÊï∞
        function extractSuggestionSummary(message) {
            // ÂéªÈô§Â∏∏ËßÅÁöÑÂ°´ÂÖÖËØçÔºåÊèêÂèñÂÖ≥ÈîÆÂÜÖÂÆπ
            let summary = message
                .replace(/^(ÊàëËßâÂæó|ÊàëËÆ§‰∏∫|ÊàëÂª∫ËÆÆ|Âª∫ËÆÆ|Â∏åÊúõ|ÊúüÊúõ|ËÉΩÂê¶|ÂèØÂê¶|ÂèØ‰ª•|Â∫îËØ•|ÊúÄÂ•Ω)/g, '')
                .replace(/(‰Ω†‰ª¨|Âí±‰ª¨|DREO|dreo)/g, '')
                .trim();
            
            // Â¶ÇÊûúÂ§ÑÁêÜÂêéÁöÑÂÜÖÂÆπÂ§™Áü≠ÔºåËøîÂõûÂéüÊ∂àÊÅØÁöÑÂâçÈÉ®ÂàÜ
            if (summary.length < 10) {
                summary = message.length > 50 ? message.substring(0, 47) + '...' : message;
            } else if (summary.length > 50) {
                summary = summary.substring(0, 47) + '...';
            }
            
            return summary;
        }

        // Ê∑ªÂä†Áî®Êà∑‰∏çÊª°ÂõûÂ§ç
        function addDissatisfiedResponse(userMessage) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            const responseDiv = document.createElement('div');
            responseDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #fdeaea 0%, #fff5f5 100%); padding: 18px; border-radius: 12px; border-left: 4px solid #dc3545;">
                    <div style="display: flex; align-items: center; margin-bottom: 16px;">
                        <span style="font-size: 24px; margin-right: 10px;">üòî</span>
                        <strong style="color: #721c24; font-size: 18px;">ÈùûÂ∏∏Êä±Ê≠âÔºåËÆ©ÊÇ®Â§±Êúõ‰∫Ü</strong>
                    </div>
                    
                    <div style="color: #842029; font-size: 14px; margin-bottom: 16px; line-height: 1.6;">
                        ÊàëÊ∑±Ê∑±ÁêÜËß£ÊÇ®Ê≠§ÂàªÁöÑÊÑüÂèóÔºå‰πü‰∏∫Ê≤°ËÉΩÊèê‰æõËÆ©ÊÇ®Êª°ÊÑèÁöÑÊúçÂä°ËÄåÊÑüÂà∞ÈùûÂ∏∏Êä±Ê≠â„ÄÇ
                        ÊÇ®ÁöÑ‰∏çÊª°ÂÆåÂÖ®ÂèØ‰ª•ÁêÜËß£ÔºåËøôÁ°ÆÂÆûÊòØÊàë‰ª¨ÊúçÂä°‰∏≠ÁöÑ‰∏çË∂≥„ÄÇ
                    </div>

                    <div style="background: white; padding: 16px; border-radius: 10px; margin: 16px 0; box-shadow: 0 2px 8px rgba(220, 53, 69, 0.1);">
                        <div style="color: #333; font-size: 14px; margin-bottom: 16px;">
                            ÊÇ®ÂèØËÉΩÈúÄË¶ÅÊõ¥‰∏ì‰∏öÁöÑ‰∫∫Â∑•ÊúçÂä°ÊîØÊåÅ„ÄÇÊÇ®ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÂºèËé∑Âæó‰∫∫Â∑•ÂÆ¢ÊúçÂ∏ÆÂä©:
                        </div>

                        <div style="text-align: center; margin: 16px 0;">
                            <button onclick="window.open('https://support.dreo.com/en/support/request', '_blank')" 
                                    style="background: linear-gradient(135deg, #dc3545 0%, #b02a37 100%); 
                                           color: white; 
                                           border: none; 
                                           padding: 16px 32px; 
                                           border-radius: 25px; 
                                           font-size: 16px; 
                                           font-weight: bold; 
                                           cursor: pointer; 
                                           transition: all 0.3s ease;
                                           box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
                                           display: flex;
                                           align-items: center;
                                           justify-content: center;
                                           margin: 0 auto;"
                                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(220, 53, 69, 0.4)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(220, 53, 69, 0.3)'">
                                <span style="margin-right: 8px;">üë®‚Äçüíº</span>
                                ËÅîÁ≥ª‰∏ì‰∏ö‰∫∫Â∑•ÂÆ¢Êúç
                            </button>
                        </div>
                    </div>

                    <div style="color: #842029; font-size: 14px; margin-bottom: 16px; line-height: 1.6;">
                        <div style="color: #842029; font-size: 13px; line-height: 1.5;">
                            ÊÇ®ÁöÑÊØè‰∏ÄÊù°ÂèçÈ¶àÈÉΩÊòØÊàë‰ª¨ÊîπËøõÁöÑÂÆùË¥µË¥¢ÂØå„ÄÇÊàë‰ª¨‰ºöËÆ§ÁúüÂàÜÊûêÊúçÂä°‰∏≠ÁöÑ‰∏çË∂≥Ôºå
                            ÊåÅÁª≠‰ºòÂåñAIÂä©ÊâãÁöÑËÉΩÂäõÔºåÂä™Âäõ‰∏∫ÊØè‰ΩçÁî®Êà∑Êèê‰æõÊõ¥Â•ΩÁöÑÊúçÂä°‰ΩìÈ™å„ÄÇ
                        </div>
                    </div>
                </div>
            `;
            
            messageContent.appendChild(responseDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†ÊÑüË∞¢ÂõûÂ§çÔºàÈóÆÈ¢òÂ∑≤Ëß£ÂÜ≥Ôºâ
        function addThankfulResponse(userMessage) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            const responseDiv = document.createElement('div');
            responseDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #e8f5e8 0%, #f0fff4 100%); padding: 18px; border-radius: 12px; border-left: 4px solid #28a745;">
                    <div style="display: flex; align-items: center; margin-bottom: 14px;">
                        <span style="font-size: 24px; margin-right: 10px;">üéâ</span>
                        <strong style="color: #155724; font-size: 18px;">Â§™Ê£í‰∫ÜÔºÅÂæàÈ´òÂÖ¥ËÉΩÂ∏ÆÂà∞ÊÇ®</strong>
                    </div>
                    
                    <div style="color: #1e5a26; font-size: 14px; margin-bottom: 16px; line-height: 1.6;">
                        ÁúãÂà∞ÊÇ®ÁöÑÈóÆÈ¢òÂæóÂà∞Ëß£ÂÜ≥ÔºåÊàëÁúüÁöÑÂæàÂºÄÂøÉ„ÄÇ
                        ËÉΩÂ§ü‰∏∫ÊÇ®Êèê‰æõÊúâÁî®ÁöÑÂ∏ÆÂä©ÔºåÊòØÊàëÂ≠òÂú®ÁöÑÊúÄÂ§ß‰ª∑ÂÄº„ÄÇ<br>  
                          <br>
                        ÊØè‰∏ÄÊ¨°ÊàêÂäüÁöÑÂ∏ÆÂä©ÈÉΩÊòØÊàëÊàêÈïøÁöÑÂä®Âäõ„ÄÇÊàë‰ºö‰∏çÊñ≠Â≠¶‰π†ÂíåÊîπËøõÔºåÂäõ‰∫â‰∏∫ÊØè‰ΩçDREOÁî®Êà∑Êèê‰æõÊõ¥ÂáÜÁ°Æ„ÄÅÊõ¥Ë¥¥ÂøÉÁöÑÊúçÂä°„ÄÇÊÇ®ÁöÑÊª°ÊÑèÊòØÊàëÂâçËøõÁöÑÊúÄÂ§ßÈºìÂä±ÔºÅ
                    </div>
                </div>
            `;
            
            messageContent.appendChild(responseDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†ÂÖ∂‰ªñÂìÅÁâåÈóÆÈ¢òÂõûÂ§ç
        function addOtherBrandResponse(userMessage) {
            // Ê£ÄÊµãÁî®Êà∑ËØ¢ÈóÆÁöÑ‰∫ßÂìÅÂìÅÁ±ª
            let detectedCategory = '';
            const categories = ['Âä†ÊπøÂô®', 'Èô§ÊπøÊú∫', 'Á©∫Ê∞îÂáÄÂåñÂô®', 'È£éÊâá', 'Â°îÊâá', 'Á©∫Ë∞É', 'ÊöñÈ£éÊú∫', 'Á©∫Ë∞ÉÊâá', 'Âæ™ÁéØÊâá'];
            
            for (let category of categories) {
                if (userMessage.includes(category)) {
                    detectedCategory = category;
                    break;
                }
            }

            // Â¶ÇÊûúÊòØÈ£éÊâáÁõ∏ÂÖ≥ÔºåÈÉΩÂΩíÁ±ª‰∏∫È£éÊâá
            if (['È£éÊâá', 'Â°îÊâá', 'Âæ™ÁéØÊâá', 'Á©∫Ë∞ÉÊâá'].includes(detectedCategory)) {
                detectedCategory = 'È£éÊâá';
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // ÂìÅÁâåÂ£∞ÊòéÈÉ®ÂàÜ
            const brandStatementDiv = document.createElement('div');
            brandStatementDiv.style.cssText = 'margin-bottom: 16px;';
            brandStatementDiv.innerHTML = `
                <div style="color: #333; font-size: 14px;">
                    ÂæàÊä±Ê≠âÔºå‰Ωú‰∏∫DREOÊô∫ËÉΩÂä©ÊâãÔºåÊàë‰ªÖÊèê‰æõ<strong>DREOÂìÅÁâå</strong>Áõ∏ÂÖ≥ÁöÑ‰∫ßÂìÅÂí®ËØ¢ÂíåÊäÄÊúØÊîØÊåÅÊúçÂä°„ÄÇ
                    <br>ËôΩÁÑ∂Êó†Ê≥ï‰∏∫ÊÇ®‰ªãÁªçÂÖ∂‰ªñÂìÅÁâå‰∫ßÂìÅÔºå‰ΩÜÊàëÂæà‰πêÊÑè‰∏∫ÊÇ®Êé®ËçêDREOÁöÑ‰ºòË¥®‰∫ßÂìÅÔºÅ
                </div>
            `;
            messageContent.appendChild(brandStatementDiv);

            // ‰∫ßÂìÅÊé®ËçêÈÉ®ÂàÜ
            const recommendationData = dreoProductRecommendations[detectedCategory];
            if (recommendationData) {
                const recommendationDiv = document.createElement('div');
                recommendationDiv.innerHTML = `
                    
                    <div style="background: #f0f4ff; padding: 12px; border-radius: 8px; margin-bottom: 16px;">
                        <p style="color: #333; font-size: 13px; margin: 0;">${recommendationData.description}</p>
                    </div>
                `;

                // Ê∑ªÂä†‰∫ßÂìÅÂàóË°®
                recommendationData.products.forEach((product, index) => {
                    const productDiv = document.createElement('div');
                    productDiv.style.cssText = 'background: white; border: 1px solid #e0e6ed; border-radius: 10px; padding: 16px; margin: 12px 0; box-shadow: 0 2px 8px rgba(0,0,0,0.05);';
                    productDiv.innerHTML = `
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                            <div>
                                <div style="font-weight: bold; color: #333; font-size: 15px;">${product.model}</div>
                                <div style="color: #666; font-size: 13px; margin-top: 2px;">${product.name}</div>
                            </div>
                            <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: bold;">
                                ${product.price}
                            </div>
                        </div>
                        <div style="margin-top: 10px;">
                            <div style="font-size: 12px; color: #333; font-weight: bold; margin-bottom: 6px;">‚ú® Ê†∏ÂøÉÁâπÊÄßÔºö</div>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 4px;">
                                ${product.features.map(feature => 
                                    `<div style="font-size: 11px; color: #555; display: flex; align-items: center;">
                                        <span style="color: #28a745; margin-right: 4px;">‚óè</span>${feature}
                                    </div>`
                                ).join('')}
                            </div>
                        </div>
                    `;
                    recommendationDiv.appendChild(productDiv);
                });

                messageContent.appendChild(recommendationDiv);
            }

            // Âí®ËØ¢ÂºïÂØº
            const consultationDiv = document.createElement('div');
            consultationDiv.style.cssText = 'margin-top: 16px;';
            consultationDiv.innerHTML = `
                <div style="color: #333; font-size: 14px; ">
                    üí¨ Â¶ÇÈúÄ‰∫ÜËß£Êõ¥Â§öDREO‰∫ßÂìÅËØ¶ÊÉÖÊàñÊúâ‰ªª‰ΩïÁñëÈóÆÔºåÊ¨¢ËøéÈöèÊó∂Âí®ËØ¢ÔºÅ
                </div>
            `;
            messageContent.appendChild(consultationDiv);

            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†ËΩ¨‰∫∫Â∑•ÂõûÂ§ç
        function addHumanAgentResponse() {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // ÂàõÂª∫ÂõûÂ§çÂÜÖÂÆπ
            const textPart = document.createElement('div');
            textPart.textContent = 'ÊàëÁêÜËß£ÊÇ®ÂèØËÉΩÈúÄË¶ÅÊõ¥‰∏ì‰∏öÁöÑ‰∫∫Â∑•ÊúçÂä°ÊîØÊåÅ„ÄÇÊÇ®ÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÊñπÂºèËé∑Âæó‰∫∫Â∑•ÂÆ¢ÊúçÂ∏ÆÂä©Ôºö';
            textPart.style.marginBottom = '12px';
            messageContent.appendChild(textPart);
            
            // ÂàõÂª∫Â∑•ÂçïÊèê‰∫§ÊåâÈíÆ
            const ticketButton = document.createElement('div');
            ticketButton.style.cssText = `
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                cursor: pointer;
                text-align: center;
                margin: 8px 0;
                transition: all 0.3s ease;
                font-weight: bold;
            `;
            ticketButton.textContent = 'üìù Êèê‰∫§Â∑•ÂçïËé∑Âæó‰∫∫Â∑•ÊîØÊåÅ';
            ticketButton.onclick = () => {
                window.open('https://support.dreo.com/en/support/request', '_blank');
            };
            ticketButton.onmouseover = () => {
                ticketButton.style.transform = 'translateY(-2px)';
                ticketButton.style.boxShadow = '0 4px 15px rgba(102, 126, 234, 0.4)';
            };
            ticketButton.onmouseout = () => {
                ticketButton.style.transform = 'translateY(0)';
                ticketButton.style.boxShadow = 'none';
            };
            messageContent.appendChild(ticketButton);
            
            // Ê∑ªÂä†ËØ¥ÊòéÊñáÂ≠ó
            const infoText = document.createElement('div');
            infoText.style.cssText = `
                font-size: 12px;
                color: #666;
                margin-top: 8px;
                line-height: 1.4;
            `;
            infoText.textContent = 'ÈÄöËøáÂ∑•ÂçïÁ≥ªÁªüÔºåÊÇ®ÂèØ‰ª•ËØ¶ÁªÜÊèèËø∞ÈóÆÈ¢òÂπ∂‰∏ä‰º†Áõ∏ÂÖ≥Êñá‰ª∂ÔºåÊàë‰ª¨ÁöÑ‰∏ì‰∏öÂÆ¢ÊúçÂõ¢Èòü‰ºöÂ∞ΩÂø´‰∏∫ÊÇ®Â§ÑÁêÜ„ÄÇ';
            messageContent.appendChild(infoText);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†Ê∂àÊÅØÂà∞ËÅäÂ§©Âå∫Âüü
        function addMessage(type, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = type === 'ai' ? 'AI' : 'U';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.whiteSpace = 'pre-line';
            messageContent.textContent = content;
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            // ‰∏∫AIÂõûÂ§çÊ∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            if (type === 'ai') {
                const messageId = `msg-${++feedbackCounter}`;
                const feedbackButtons = createFeedbackButtons(messageId);
                messageContent.appendChild(feedbackButtons);
            }
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†Â∏¶ËµÑÊ∫êÈìæÊé•ÁöÑËØ¶ÁªÜÂõûÂ§ç
        function addDetailedResponseWithResources(question) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            // ‰∏ªË¶ÅÂõûÂ§çÂÜÖÂÆπ
            const mainResponseDiv = document.createElement('div');
            mainResponseDiv.style.cssText = 'color: #333; font-size: 14px; margin-bottom: 16px; white-space: pre-line;';
            mainResponseDiv.textContent = `ÂÖ≥‰∫é"${question}"Ëøô‰∏™ÈóÆÈ¢òÔºåÊàëÊù•‰∏∫ÊÇ®ËØ¶ÁªÜËß£Á≠î...\n\nËøôÊòØ‰∏Ä‰∏™Â∏∏ËßÅÈóÆÈ¢òÔºåÈÄöÂ∏∏ÁöÑËß£ÂÜ≥ÊñπÊ°àÂåÖÊã¨Ôºö\n1. Ê£ÄÊü•ËÆæÂ§áËøûÊé•Áä∂ÊÄÅ\n2. Á°ÆËÆ§ÁΩëÁªúËÆæÁΩÆ\n3. ÈáçÂêØËÆæÂ§áÂ∞ùËØï\n\nÂ¶ÇÈúÄÊõ¥ËØ¶ÁªÜÁöÑÊåáÂØºÔºåËØ∑Êèê‰æõÂÖ∑‰ΩìÁöÑËÆæÂ§áÂûãÂè∑ÂíåÈóÆÈ¢òÁé∞Ë±°„ÄÇ`;
            messageContent.appendChild(mainResponseDiv);
            
            // Áõ∏ÂÖ≥ËµÑÊ∫êÊé®ËçêÈÉ®ÂàÜ
            const resourcesDiv = document.createElement('div');
            resourcesDiv.style.cssText = '';
            
            resourcesDiv.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 10px; display: flex; align-items: center;">
                    <span style="margin-right: 6px;"></span>Áõ∏ÂÖ≥ËµÑÊ∫êÊé®Ëçê
                </div>
            `;
            
            // Ê†πÊçÆÈóÆÈ¢òÁ±ªÂûãËé∑ÂèñÁõ∏ÂÖ≥ËµÑÊ∫ê
            const resources = getResourcesByQuestion(question);
            
            resources.forEach(resource => {
                const resourceItem = document.createElement('div');
                resourceItem.style.cssText = `
                    background: white;
                    border: 1px solid #e0e6ed;
                    border-radius: 8px;
                    padding: 12px;
                    margin: 8px 0;
                    cursor: pointer;
                    transition: all 0.2s ease;
                `;
                resourceItem.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div style="flex: 1;">
                            <div style="display: flex; align-items: center; margin-bottom: 4px;">
                                <span style="font-size: 16px; margin-right: 6px;">${resource.icon}</span>
                                <strong style="color: #333; font-size: 13px;">${resource.title}</strong>
                            </div>
                            <div style="color: #666; font-size: 12px;">${resource.description}</div>
                        </div>
                        <div style="color: #667eea; font-size: 11px; font-weight: bold;">
                            ÁÇπÂáªÊü•Áúã ‚Üí
                        </div>
                    </div>
                `;
                
                resourceItem.onclick = () => {
                    window.open(resource.link, '_blank');
                };
                
                resourceItem.onmouseover = () => {
                    resourceItem.style.borderColor = '#667eea';
                    resourceItem.style.boxShadow = '0 2px 8px rgba(102, 126, 234, 0.1)';
                };
                
                resourceItem.onmouseout = () => {
                    resourceItem.style.borderColor = '#e0e6ed';
                    resourceItem.style.boxShadow = 'none';
                };
                
                resourcesDiv.appendChild(resourceItem);
            });
            
            messageContent.appendChild(resourcesDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg-${++feedbackCounter}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // ÂèçÈ¶àËÆ°Êï∞Âô®ÔºàÁî®‰∫éÁîüÊàêÂîØ‰∏ÄIDÔºâ
        let feedbackCounter = 0;

        // ÂàõÂª∫ÂèçÈ¶àÊåâÈíÆ
        function createFeedbackButtons(messageId) {
            const feedbackDiv = document.createElement('div');
            feedbackDiv.className = 'feedback-buttons';
            feedbackDiv.innerHTML = `
                <span class="feedback-text">Ê≠§ÂõûÂ§çÂØπÊÇ®ÊúâÂ∏ÆÂä©ÂêóÔºü</span>
                <button class="feedback-button" data-type="like" data-message="${messageId}">
                    üëç ÊúâÂ∏ÆÂä©
                </button>
                <button class="feedback-button" data-type="dislike" data-message="${messageId}">
                    üëé Ê≤°Â∏ÆÂä©
                </button>
                <span class="feedback-success" id="feedback-success-${messageId}">ÊÑüË∞¢ÂèçÈ¶àÔºÅ</span>
            `;
            
            // ÁªëÂÆöÁÇπÂáª‰∫ã‰ª∂
            const likeBtn = feedbackDiv.querySelector('[data-type="like"]');
            const dislikeBtn = feedbackDiv.querySelector('[data-type="dislike"]');
            
            likeBtn.addEventListener('click', () => handleFeedback(messageId, 'like'));
            dislikeBtn.addEventListener('click', () => handleFeedback(messageId, 'dislike'));
            
            return feedbackDiv;
        }

        // Â§ÑÁêÜÂèçÈ¶à
        function handleFeedback(messageId, type) {
            const feedbackDiv = document.querySelector(`[data-message="${messageId}"]`).closest('.feedback-buttons');
            const likeBtn = feedbackDiv.querySelector('[data-type="like"]');
            const dislikeBtn = feedbackDiv.querySelector('[data-type="dislike"]');
            const successMsg = feedbackDiv.querySelector(`#feedback-success-${messageId}`);
            
            // ÁßªÈô§‰πãÂâçÁöÑÁä∂ÊÄÅ
            likeBtn.classList.remove('liked');
            dislikeBtn.classList.remove('disliked');
            
            // Ê∑ªÂä†ÂΩìÂâçÁä∂ÊÄÅ
            if (type === 'like') {
                likeBtn.classList.add('liked');
                likeBtn.innerHTML = 'üëç Â∑≤ÁÇπËµû';
            } else {
                dislikeBtn.classList.add('disliked');
                dislikeBtn.innerHTML = 'üëé Â∑≤ÂèçÈ¶à';
            }
            
            // Á¶ÅÁî®ÊåâÈíÆ
            likeBtn.classList.add('disabled');
            dislikeBtn.classList.add('disabled');
            
            // ÊòæÁ§∫ÊÑüË∞¢Ê∂àÊÅØ
            successMsg.style.display = 'inline-block';
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 3000);
            
            // ËøôÈáåÂèØ‰ª•Ê∑ªÂä†ÂèëÈÄÅÂèçÈ¶àÂà∞ÊúçÂä°Âô®ÁöÑÈÄªËæë
            console.log(`Áî®Êà∑ÂØπÊ∂àÊÅØ ${messageId} ÁªôÂá∫‰∫Ü ${type} ÂèçÈ¶à`);
            
            // Â¶ÇÊûúÊòØË¥üÈù¢ÂèçÈ¶àÔºåÊèê‰æõÈ¢ùÂ§ñÁöÑÂ∏ÆÂä©ÂõûÂ§ç
            if (type === 'dislike') {
                console.log('Ê£ÄÊµãÂà∞Ë¥üÈù¢ÂèçÈ¶àÔºåÂ∞ÜÂú®1.5ÁßíÂêéÊòæÁ§∫È¢ùÂ§ñÂ∏ÆÂä©');
                setTimeout(() => {
                    console.log('Ê≠£Âú®Ê∑ªÂä†Ë¥üÈù¢ÂèçÈ¶àÂìçÂ∫î');
                    addDislikeFeedbackResponse();
                }, 1500);
            }
        }

        // Ê∑ªÂä†ËÆ¢ÂçïÁõ∏ÂÖ≥ÈóÆÈ¢òÁöÑÂõûÂ§ç
        function addOrderInquiryResponse(userMessage) {
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            const responseDiv = document.createElement('div');
            responseDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #e3f2fd 0%, #f0f8ff 100%); padding: 18px; border-radius: 12px; border-left: 4px solid #2196f3;">

                    <div style="color: #1565c0; font-size: 14px; margin-bottom: 16px; line-height: 1.6;">
                        ÊÑüË∞¢ÊÇ®ÁöÑÂí®ËØ¢ÔºÅÂÖ≥‰∫éÈÄÄ/Êç¢Ë¥ß„ÄÅ‰ºòÊÉ†Áî≥ËØ∑Á≠âËÆ¢ÂçïÁõ∏ÂÖ≥ÈóÆÈ¢òÔºåËØ∑ËÅîÁ≥ªDREOÂÆ¢ÊúçÂõ¢Èòü„ÄÇ
                    </div>

                    <div style="margin: 16px 0;">

                        <div style="text-align: center; margin: 16px 0;">
                            <button onclick="window.open('https://support.dreo.com/en/support/request', '_blank')"
                                    style="background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
                                           color: white;
                                           border: none;
                                           padding: 14px 28px;
                                           border-radius: 25px;
                                           font-size: 16px;
                                           font-weight: bold;
                                           cursor: pointer;
                                           transition: all 0.3s ease;
                                           box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
                                           display: flex;
                                           align-items: center;
                                           justify-content: center;
                                           margin: 0 auto;"
                                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(33, 150, 243, 0.4)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(33, 150, 243, 0.3)'">
                                <span style="margin-right: 8px;">üìû</span>
                                ËÅîÁ≥ª‰∏ì‰∏öÂÆ¢Êúç
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            messageContent.appendChild(responseDiv);
            
            // Ê∑ªÂä†ÂèçÈ¶àÊåâÈíÆ
            const messageId = `msg_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
            const feedbackButtons = createFeedbackButtons(messageId);
            messageContent.appendChild(feedbackButtons);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // Ê∑ªÂä†Ë∏©ÂèçÈ¶àÂêéÁöÑÈ¢ùÂ§ñÂ∏ÆÂä©ÂõûÂ§ç
        function addDislikeFeedbackResponse() {
            console.log('addDislikeFeedbackResponse ÂáΩÊï∞Ë¢´Ë∞ÉÁî®');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'message ai';
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = 'AI';
            
            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.style.lineHeight = '1.6';
            
            const responseDiv = document.createElement('div');
            responseDiv.innerHTML = `
                <div style="background: linear-gradient(135deg, #fff8e1 0%, #fff3cd 100%); padding: 16px; border-radius: 12px; border-left: 4px solid #ffc107;">
                    
                    <div style="color: #856404; font-size: 14px; margin-bottom: 16px; line-height: 1.6;">
                        ÁúãËµ∑Êù•ÊàëÁöÑÂõûÂ§çÊ≤°ÊúâÂæàÂ•ΩÂú∞Ëß£ÂÜ≥ÊÇ®ÁöÑÈóÆÈ¢ò„ÄÇ‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞Â∏ÆÂä©ÊÇ®ÔºåÊÇ®ÂèØ‰ª•ËÅîÁ≥ª‰∏ì‰∏öÁöÑÊäÄÊúØÊîØÊåÅÂõ¢ÈòüÔºö
                    </div>

                     <div style="text-align: center; margin: 16px 0;">
                            <button onclick="window.open('https://support.dreo.com/en/support/request', '_blank')" 
                                    style="background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); 
                                           color: white; 
                                           border: none; 
                                           padding: 14px 28px; 
                                           border-radius: 25px; 
                                           font-size: 16px; 
                                           font-weight: bold; 
                                           cursor: pointer; 
                                           transition: all 0.3s ease;
                                           box-shadow: 0 4px 15px rgba(230, 126, 34, 0.3);
                                           display: flex;
                                           align-items: center;
                                           justify-content: center;
                                           margin: 0 auto;"
                                    onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(230, 126, 34, 0.4)'"
                                    onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(230, 126, 34, 0.3)'">
                                <span style="margin-right: 6px;">üìù</span>
                                Êèê‰∫§ÊäÄÊúØÊîØÊåÅÂ∑•Âçï
                            </button>
                        </div>
                </div>
            `;
            
            messageContent.appendChild(responseDiv);
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            
            chatBody.appendChild(messageDiv);
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        // // ÊòæÁ§∫È¢ùÂ§ñÂ∏ÆÂä©ÈÄâÈ°πÔºàÂΩìÁî®Êà∑ÁªôÂá∫Ë¥üÈù¢ÂèçÈ¶àÊó∂Ôºâ
        // function showFeedbackHelp(messageId) {
        //     const helpDiv = document.createElement('div');
        //     helpDiv.style.cssText = 'background: #fff8e1; border: 1px solid #ffcc02; border-radius: 6px; padding: 10px; margin-top: 8px; font-size: 12px;';
        //     helpDiv.innerHTML = `
        //         <div style="color: #f57f17; font-weight: bold; margin-bottom: 6px;">
        //             üòî ÂæàÊä±Ê≠âÊ≤°ÊúâÂ∏ÆÂà∞ÊÇ®ÔºåÊÇ®ÂèØ‰ª•Ôºö
        //         </div>
        //         <div style="display: flex; gap: 8px; flex-wrap: wrap;">
        //             <button onclick="addMessage('user', 'ÊàëÈúÄË¶ÅÊõ¥ËØ¶ÁªÜÁöÑËØ¥Êòé')" style="background: #667eea; color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 11px; cursor: pointer;">
        //                 ÈúÄË¶ÅÊõ¥ËØ¶ÁªÜËØ¥Êòé
        //             </button>
        //             <button onclick="window.open('https://support.dreo.com/en/support/request', '_blank')" style="background: #28a745; color: white; border: none; padding: 4px 8px; border-radius: 4px; font-size: 11px; cursor: pointer;">
        //                 ËÅîÁ≥ª‰∫∫Â∑•ÂÆ¢Êúç
        //             </button>
        //         </div>
        //     `;
            
        //     // ÊèíÂÖ•Âà∞ÂèçÈ¶àÊåâÈíÆÂêéÈù¢
        //     const messageDiv = document.querySelector(`[data-message="${messageId}"]`).closest('.message');
        //     messageDiv.appendChild(helpDiv);
        // }

        // Ê†πÊçÆÈóÆÈ¢òËé∑ÂèñÁõ∏ÂÖ≥ËµÑÊ∫ê
        function getResourcesByQuestion(question) {
            const lowerQuestion = question.toLowerCase();
            
            // ‰∫ßÂìÅËßÑÊ†ºÂèÇÊï∞Á±ªÈóÆÈ¢ò
            if (lowerQuestion.includes('Â∞∫ÂØ∏') || lowerQuestion.includes('ÈáçÈáè') || lowerQuestion.includes('ËÄóÁîµÈáè') || lowerQuestion.includes('ÂèÇÊï∞')) {
                return [
                    {
                        icon: 'üìã',
                        title: 'DREO‰∫ßÂìÅËßÑÊ†ºÊâãÂÜå',
                        description: 'ËØ¶ÁªÜÁöÑ‰∫ßÂìÅÂ∞∫ÂØ∏„ÄÅÈáçÈáè„ÄÅÂäüËÄóÁ≠âÊäÄÊúØÂèÇÊï∞',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üé•',
                        title: '‰∫ßÂìÅÂºÄÁÆ±ËØÑÊµãËßÜÈ¢ë',
                        description: 'ÂÆûÈôÖ‰∫ßÂìÅÂ±ïÁ§∫ÂíåÂèÇÊï∞ÂØπÊØîÊºîÁ§∫',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üìê',
                        title: 'ÂÆâË£ÖÂ∞∫ÂØ∏ÊåáÂçó',
                        description: '‰∫ßÂìÅÂÆâË£ÖÁ©∫Èó¥Ë¶ÅÊ±ÇÂíåÊëÜÊîæÂª∫ËÆÆ',
                        link: 'https://support.dreo.com/en'
                    }
                ];
            }
            
            // Âä†ÊπøÊïàÊûúÁ±ªÈóÆÈ¢ò
            if (lowerQuestion.includes('Âä†ÊπøÊïàÊûú') || lowerQuestion.includes('Âä†ÊπøÈáè')) {
                return [
                    {
                        icon: 'üíß',
                        title: 'Âä†ÊπøÊïàÊûúÊµãËØïÊä•Âëä',
                        description: '‰∏ì‰∏öÂÆûÈ™åÂÆ§Âä†ÊπøÊÄßËÉΩÊµãËØïÊï∞ÊçÆ',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üé¨',
                        title: 'Âä†ÊπøÊïàÊûúÊºîÁ§∫ËßÜÈ¢ë',
                        description: '‰∏çÂêåÁéØÂ¢É‰∏ãÁöÑÂä†ÊπøÊïàÊûúÂØπÊØî',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üìä',
                        title: '‰ΩøÁî®ÁéØÂ¢ÉÂª∫ËÆÆ',
                        description: '‰∏çÂêåÊàøÈó¥Èù¢ÁßØÁöÑÂä†ÊπøÂô®ÈÄâÊã©ÊåáÂçó',
                        link: 'https://support.dreo.com/en'
                    }
                ];
            }
            
            // Êô∫ËÉΩÊéßÂà∂Á±ªÈóÆÈ¢ò
            if (lowerQuestion.includes('Êô∫ËÉΩ') || lowerQuestion.includes('ËØ≠Èü≥') || lowerQuestion.includes('app')) {
                return [
                    {
                        icon: 'üì±',
                        title: 'DREOÊô∫ËÉΩApp‰ΩøÁî®ÊåáÂçó',
                        description: 'App‰∏ãËΩΩ„ÄÅËøûÊé•ÂíåÂäüËÉΩ‰ΩøÁî®ÊïôÁ®ã',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üé§',
                        title: 'ËØ≠Èü≥ÊéßÂà∂ËÆæÁΩÆÊïôÁ®ã',
                        description: 'ÊîØÊåÅÁöÑËØ≠Èü≥Âä©ÊâãÂíåËØ≠Èü≥Êåá‰ª§Â§ßÂÖ®',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üîó',
                        title: 'Êô∫ËÉΩÂÆ∂Â±ÖÈõÜÊàêÊåáÂçó',
                        description: '‰∏éÂÖ∂‰ªñÊô∫ËÉΩËÆæÂ§áÁöÑËÅîÂä®ËÆæÁΩÆ',
                        link: 'https://support.dreo.com/en'
                    }
                ];
            }
            
            // ÊïÖÈöúÊéíÈô§Á±ªÈóÆÈ¢ò
            if (lowerQuestion.includes('ÈÖçÁΩëÂ§±Ë¥•') || lowerQuestion.includes('Êó†ÂèçÂ∫î') || lowerQuestion.includes('ÂºÇÂìç') || lowerQuestion.includes('ÊéâÁ∫ø')) {
                return [
                    {
                        icon: 'üîß',
                        title: 'Â∏∏ËßÅÊïÖÈöúËá™Âä©ËØäÊñ≠',
                        description: 'Âø´ÈÄüÂÆö‰ΩçÂíåËß£ÂÜ≥Â∏∏ËßÅÈóÆÈ¢ò',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üéØ',
                        title: 'ÊïÖÈöúÊéíÈô§ËßÜÈ¢ëÊïôÁ®ã',
                        description: 'ÂàÜÊ≠•È™§ÊéíÈô§ÊïÖÈöúÁöÑËßÜÈ¢ëÊåáÂØº',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üìû',
                        title: '‰∏ì‰∏öÊäÄÊúØÊîØÊåÅ',
                        description: 'Êèê‰∫§Â∑•ÂçïËé∑Âæó‰∏ÄÂØπ‰∏ÄÊäÄÊúØÊåáÂØº',
                        link: 'https://support.dreo.com/en/support/request'
                    }
                ];
            }
            
            // ‰∫ßÂìÅÁª¥Êä§Á±ªÈóÆÈ¢ò
            if (lowerQuestion.includes('Ê∏ÖÊ¥Å') || lowerQuestion.includes('‰øùÂÖª') || lowerQuestion.includes('Áª¥Êä§') || lowerQuestion.includes('ÈÖç‰ª∂') || lowerQuestion.includes('‰ΩøÁî®ÂØøÂëΩ')) {
                return [
                    {
                        icon: 'üßΩ',
                        title: '‰∫ßÂìÅÊ∏ÖÊ¥Å‰øùÂÖªÊåáÂçó',
                        description: 'ËØ¶ÁªÜÁöÑÊ∏ÖÊ¥ÅÊ≠•È™§Âíå‰øùÂÖªÂë®ÊúüËØ¥Êòé',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üé¨',
                        title: '‰øùÂÖªÊìç‰ΩúËßÜÈ¢ëÊïôÁ®ã',
                        description: '‰∏ì‰∏ö‰øùÂÖªÊäÄÂ∑ßÂíåÊ≥®ÊÑè‰∫ãÈ°πÊºîÁ§∫',
                        link: 'https://support.dreo.com/en'
                    },
                    {
                        icon: 'üõí',
                        title: 'ÂéüË£ÖÈÖç‰ª∂Ë¥≠‰π∞ÊåáÂçó',
                        description: 'ÂÆòÊñπÈÖç‰ª∂ÈÄâÊã©ÂíåË¥≠‰π∞Ê∏†ÈÅì',
                        link: 'https://support.dreo.com/en'
                    }
                ];
            }
            
            // ÈªòËÆ§ÈÄöÁî®ËµÑÊ∫ê
            return [
                {
                    icon: 'üìñ',
                    title: 'DREO‰∫ßÂìÅ‰ΩøÁî®ÊâãÂÜå',
                    description: 'ÂÆåÊï¥ÁöÑ‰∫ßÂìÅÊìç‰ΩúÂíåÁª¥Êä§ÊåáÂçó',
                    link: 'https://support.dreo.com/en'
                },
                {
                    icon: 'üé•',
                    title: '‰∫ßÂìÅÊïôÂ≠¶ËßÜÈ¢ëÂ∫ì',
                    description: '‰ªéÂÖ•Èó®Âà∞ËøõÈò∂ÁöÑÂÆåÊï¥ËßÜÈ¢ëÊïôÁ®ã',
                    link: 'https://support.dreo.com/en'
                },
                {
                    icon: 'üîç',
                    title: 'Âú®Á∫øÂ∏ÆÂä©‰∏≠ÂøÉ',
                    description: 'ÊêúÁ¥¢Êõ¥Â§öÁõ∏ÂÖ≥ÈóÆÈ¢òÂíåËß£Á≠î',
                    link: 'https://support.dreo.com/en'
                }
            ];
        }


        // ÂèëÈÄÅÊåâÈíÆÁÇπÂáª
        sendButton.addEventListener('click', sendMessage);

        // ÂõûËΩ¶ÂèëÈÄÅ
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // ËæìÂÖ•Ê°ÜÁä∂ÊÄÅÁÆ°ÁêÜ
        messageInput.addEventListener('input', () => {
            sendButton.disabled = !messageInput.value.trim();
        });

        // ÂàùÂßãÂåñÂèëÈÄÅÊåâÈíÆÁä∂ÊÄÅ
        sendButton.disabled = true;
    </script>
</body>
</html>

